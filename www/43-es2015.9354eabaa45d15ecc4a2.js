(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{CMHK:function(t,i,n){"use strict";n.r(i);var o=n("ofXK"),e=n("3Pt+"),a=n("c7TG"),s=n("tyNb"),c=n("lGQG"),l=n("n90K"),r=n("2g2N"),b=n("HlzF"),g=n("5dVO"),h=n("fXoL");const d=["range"];function u(t,i){if(1&t){const t=h.ac();h.Zb(0,"ion-item-sliding"),h.Zb(1,"ion-item",6),h.Zb(2,"ion-card"),h.Zb(3,"div",7),h.Xb(4,"img",8),h.Yb(),h.Zb(5,"ion-label",9),h.uc(6),h.Yb(),h.Yb(),h.Yb(),h.Zb(7,"ion-item-options",10),h.Zb(8,"button",11),h.hc("click",(function(n){h.qc(t);const o=i.$implicit;return h.jc().addtoplaylist(o)})),h.Xb(9,"ion-icon",12),h.Yb(),h.Zb(10,"button",11),h.hc("click",(function(n){h.qc(t);const o=i.$implicit;return h.jc().addtodownloadlist(o)})),h.Xb(11,"ion-icon",13),h.Yb(),h.Yb(),h.Yb()}if(2&t){const t=i.$implicit,n=h.jc();h.Mb(4),h.nc("src",t.image,h.rc),h.Mb(1),h.mc("color",t==n.activeTrack?"primary":"dark"),h.Mb(1),h.wc(" ",t.title," ")}}function p(t,i){1&t&&(h.Zb(0,"ion-label",26),h.uc(1,"--:--"),h.Yb())}function m(t,i){if(1&t&&(h.Zb(0,"ion-label",26),h.uc(1),h.Yb()),2&t){const t=h.jc(2);h.Mb(1),h.vc(t.display_duration)}}function y(t,i){if(1&t){const t=h.ac();h.Zb(0,"ion-button",22),h.hc("click",(function(i){return h.qc(t),h.jc(2).togglePlayer(!1)})),h.Xb(1,"ion-icon",27),h.Yb()}}function f(t,i){if(1&t){const t=h.ac();h.Zb(0,"ion-button",22),h.hc("click",(function(i){return h.qc(t),h.jc(2).togglePlayer(!0)})),h.Xb(1,"ion-icon",28),h.Yb()}}function k(t,i){if(1&t){const t=h.ac();h.Zb(0,"ion-footer"),h.Zb(1,"ion-toolbar",14),h.Zb(2,"ion-row"),h.Zb(3,"ion-col",15),h.uc(4),h.Yb(),h.Zb(5,"ion-col",16),h.Zb(6,"ion-range",17,18),h.hc("ngModelChange",(function(i){return h.qc(t),h.jc().progress=i}))("touchend",(function(i){return h.qc(t),h.jc().seek()}))("mouseup",(function(i){return h.qc(t),h.jc().seek()})),h.Yb(),h.Zb(8,"div",19),h.Zb(9,"ion-label",20),h.uc(10),h.Yb(),h.tc(11,p,2,0,"ion-label",21),h.tc(12,m,2,1,"ion-label",21),h.Yb(),h.Yb(),h.Zb(13,"ion-col",15),h.Zb(14,"ion-button",22),h.hc("click",(function(i){return h.qc(t),h.jc().prev()})),h.Xb(15,"ion-icon",23),h.Yb(),h.tc(16,y,2,0,"ion-button",24),h.tc(17,f,2,0,"ion-button",24),h.Zb(18,"ion-button",22),h.hc("click",(function(i){return h.qc(t),h.jc().next()})),h.Xb(19,"ion-icon",25),h.Yb(),h.Yb(),h.Yb(),h.Yb(),h.Yb()}if(2&t){const t=h.jc();h.Mb(4),h.wc(" ",t.activeTrack.title," "),h.Mb(2),h.mc("ngModel",t.progress),h.Mb(4),h.vc(t.display_position),h.Mb(1),h.mc("ngIf",-1==t.duration),h.Mb(1),h.mc("ngIf",-1!=t.duration),h.Mb(4),h.mc("ngIf",!t.isPlaying),h.Mb(1),h.mc("ngIf",t.isPlaying)}}const j=[{path:"",component:(()=>{class t{constructor(t,i,n,o){this.authService=t,this.storageService=i,this.toastService=n,this.loader=o,this.activeTrack=null,this.player=null,this.isPlaying=!1,this.duration=-1,this.display_position="00:00",this.display_duration="00:00",this.progress=0,this.storageService.getIMEI().then(t=>{console.log("IMEIBHAJAN => "+t),this.imei=t})}ngOnInit(){this.getBhajans()}getBhajans(){this.loader.loadingPresent(),this.authService.GetJsonData({json_name:"bhajans.json"}).subscribe(t=>{console.log(t),this.loader.loadingDismiss(),this.Bhajans=t},t=>{this.loader.loadingDismiss(),console.log("error")})}addtoplaylist(t){const i={imei:this.imei,url:t.url,image:t.image,title:t.title,type:"Bhajans"};console.log("DATA => "+JSON.stringify(i)),this.authService.SavePlayList(i).subscribe(i=>{console.log(i),this.toastService.presentToast(t.title+" Added To PlayList")},t=>{console.log("error")})}addtodownloadlist(t){const i={imei:this.imei,url:t.url,image:t.image,title:t.title,type:"Bhajans"};console.log(i),this.authService.SaveDownloadList(i).subscribe(i=>{console.log(i),this.toastService.presentToast(t.title+" Added To DownloadList")},t=>{console.log("error")})}start(t){this.player&&this.player.stop(),this.player=new b.Howl({src:[t.url],html5:!0,onplay:()=>{this.isPlaying=!0,this.activeTrack=t,this.updateProgess()},onend:()=>{}}),this.player.play()}togglePlayer(t){this.isPlaying=!t,t?this.player.pause():this.player.play()}next(){const t=this.Bhajans.indexOf(this.activeTrack);this.start(t!==this.Bhajans.length-1?this.Bhajans[t+1]:this.Bhajans[0])}prev(){const t=this.Bhajans.indexOf(this.activeTrack);this.start(t>0?this.Bhajans[t-1]:this.Bhajans[this.Bhajans.length-1])}seek(){const t=+this.range.value,i=this.player.duration();this.player.seek(i*(t/100))}updateProgess(){const t=this.player.seek();this.progress=t/this.player.duration()*100||0,setTimeout(()=>{this.updateProgess()},1e3)}}return t.\u0275fac=function(i){return new(i||t)(h.Wb(c.a),h.Wb(l.a),h.Wb(r.a),h.Wb(g.a))},t.\u0275cmp=h.Qb({type:t,selectors:[["app-bhajans"]],viewQuery:function(t,i){var n;1&t&&h.yc(d,!0),2&t&&h.pc(n=h.ic())&&(i.range=n.first)},decls:11,vars:2,consts:[["color","primary"],["slot","start"],["autoHide","false"],["slot","end","src","assets/images/toolbar.png",1,"img1"],[4,"ngFor","ngForOf"],[4,"ngIf"],["lines","none"],[1,"div_20"],[3,"src"],[1,"label",3,"color"],["side","end"],["ion-button","",3,"click"],["slot","icon-only","name","musical-note",1,"icon-inner"],["slot","icon-only","name","download",1,"icon-inner"],["color","dark"],["size","12",1,"ion-text-center"],["size","12"],["max","100","color","primary",3,"ngModel","ngModelChange","touchend","mouseup"],["range",""],[1,"rangePlaytime"],["color","light",1,"startTime"],["class","endTime","color","light",4,"ngIf"],["fill","clear","color","primary",3,"click"],["slot","icon-only","name","skip-backward"],["fill","clear","color","primary",3,"click",4,"ngIf"],["slot","icon-only","name","skip-forward"],["color","light",1,"endTime"],["slot","icon-only","name","play"],["slot","icon-only","name","pause"]],template:function(t,i){1&t&&(h.Zb(0,"ion-header"),h.Zb(1,"ion-toolbar",0),h.Zb(2,"ion-buttons",1),h.Xb(3,"ion-menu-button",2),h.Yb(),h.Zb(4,"ion-label"),h.uc(5," Bhajans "),h.Yb(),h.Xb(6,"img",3),h.Yb(),h.Yb(),h.Zb(7,"ion-content"),h.Zb(8,"ion-list"),h.tc(9,u,12,3,"ion-item-sliding",4),h.Yb(),h.Yb(),h.tc(10,k,20,7,"ion-footer",5)),2&t&&(h.Mb(9),h.mc("ngForOf",i.Bhajans),h.Mb(1),h.mc("ngIf",i.activeTrack))},directives:[a.q,a.N,a.f,a.z,a.w,a.l,a.x,o.h,o.i,a.v,a.t,a.g,a.u,a.r,a.o,a.D,a.k,a.B,a.Y,e.c,e.d,a.e],styles:[".div_20[_ngcontent-%COMP%]{width:20%;display:inline-block;margin:0;padding:5px;float:left}.label[_ngcontent-%COMP%]{height:50px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;word-break:break-all;white-space:normal}.icon-inner[_ngcontent-%COMP%]{font-size:25px;display:block;color:var(--ion-color-primary)}.rangePlaytime[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.rangePlaytime[_ngcontent-%COMP%]   .startTime[_ngcontent-%COMP%]{padding-left:9px}.rangePlaytime[_ngcontent-%COMP%]   .endTime[_ngcontent-%COMP%]{padding-right:15px}.img1[_ngcontent-%COMP%]{height:30px;width:100px;max-width:100%;border:0}ion-card[_ngcontent-%COMP%]{width:100%;margin-top:11px;margin-bottom:6px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.list-ios[_ngcontent-%COMP%]{margin-bottom:0!important}ion-list[_ngcontent-%COMP%]{padding:0}"]}),t})()}];let w=(()=>{class t{}return t.\u0275mod=h.Ub({type:t}),t.\u0275inj=h.Tb({factory:function(i){return new(i||t)},imports:[[s.i.forChild(j)],s.i]}),t})();n.d(i,"BhajansPageModule",(function(){return v}));let v=(()=>{class t{}return t.\u0275mod=h.Ub({type:t}),t.\u0275inj=h.Tb({factory:function(i){return new(i||t)},imports:[[o.b,e.a,a.O,w]]}),t})()}}]);