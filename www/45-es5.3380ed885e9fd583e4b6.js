function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var a=0;a<n.length;a++){var i=n[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,n,a){return n&&_defineProperties(t.prototype,n),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"+V8a":function(t,n,a){"use strict";a.r(n);var i=a("ofXK"),e=a("3Pt+"),o=a("c7TG"),r=a("tyNb"),s=a("mrSG"),l=a("lGQG"),c=a("2g2N"),h=a("FAH8"),b=a("B7Rs"),u=a("HlzF"),d=a("te5A"),f=a("5dVO"),m=a("n90K"),g=a("fXoL"),p=["range"];function k(t,n){if(1&t){var a=g.ac();g.Zb(0,"ion-fab",14),g.hc("click",(function(t){return g.qc(a),g.jc(2).downloadAllbhakti()})),g.Zb(1,"ion-fab-button",0),g.Xb(2,"ion-icon",15),g.Yb(),g.Yb()}}function y(t,n){if(1&t){var a=g.ac();g.Zb(0,"ion-list"),g.Zb(1,"ion-item-sliding"),g.Zb(2,"ion-item",16),g.Zb(3,"ion-card"),g.Zb(4,"div",17),g.Xb(5,"img",18),g.Yb(),g.Zb(6,"ion-label",19),g.uc(7),g.Yb(),g.Yb(),g.Yb(),g.Zb(8,"ion-item-options",20),g.Zb(9,"button",21),g.hc("click",(function(t){g.qc(a);var i=n.$implicit;return g.jc(2).removeplaylistbhakti(i)})),g.Xb(10,"ion-icon",22),g.Yb(),g.Zb(11,"button",21),g.hc("click",(function(t){g.qc(a);var i=n.$implicit;return g.jc(2).downloadplaylistbhakti(i)})),g.Xb(12,"ion-icon",23),g.Yb(),g.Yb(),g.Yb(),g.Yb()}if(2&t){var i=n.$implicit;g.Mb(5),g.nc("src",i.image,g.rc),g.Mb(2),g.wc(" ",i.title," ")}}function v(t,n){if(1&t&&(g.Zb(0,"div"),g.tc(1,k,3,0,"ion-fab",12),g.tc(2,y,13,2,"ion-list",13),g.Yb()),2&t){var a=g.jc();g.Mb(1),g.mc("ngForOf",a.Bhaktiprakash),g.Mb(1),g.mc("ngForOf",a.Bhaktiprakash)}}function w(t,n){if(1&t){var a=g.ac();g.Zb(0,"ion-fab",14),g.hc("click",(function(t){return g.qc(a),g.jc(2).downloadAllramayan()})),g.Zb(1,"ion-fab-button",0),g.Xb(2,"ion-icon",15),g.Yb(),g.Yb()}}function Y(t,n){if(1&t){var a=g.ac();g.Zb(0,"ion-list"),g.Zb(1,"ion-item-sliding"),g.Zb(2,"ion-item",16),g.Zb(3,"ion-card"),g.Zb(4,"div",17),g.Xb(5,"img",18),g.Yb(),g.Zb(6,"ion-label",19),g.uc(7),g.Yb(),g.Yb(),g.Yb(),g.Zb(8,"ion-item-options",20),g.Zb(9,"button",21),g.hc("click",(function(t){g.qc(a);var i=n.$implicit;return g.jc(2).removeplaylistramayan(i)})),g.Xb(10,"ion-icon",22),g.Yb(),g.Zb(11,"button",21),g.hc("click",(function(t){g.qc(a);var i=n.$implicit;return g.jc(2).downloadplaylistramayan(i)})),g.Xb(12,"ion-icon",23),g.Yb(),g.Yb(),g.Yb(),g.Yb()}if(2&t){var i=n.$implicit;g.Mb(5),g.nc("src",i.image,g.rc),g.Mb(2),g.wc(" ",i.title," ")}}function Z(t,n){if(1&t&&(g.Zb(0,"div"),g.tc(1,w,3,0,"ion-fab",12),g.tc(2,Y,13,2,"ion-list",13),g.Yb()),2&t){var a=g.jc();g.Mb(1),g.mc("ngForOf",a.Ramayansaar),g.Mb(1),g.mc("ngForOf",a.Ramayansaar)}}function C(t,n){if(1&t){var a=g.ac();g.Zb(0,"ion-button",28),g.hc("click",(function(t){return g.qc(a),g.jc(2).togglePlayer(!1)})),g.Xb(1,"ion-icon",32),g.Yb()}}function x(t,n){if(1&t){var a=g.ac();g.Zb(0,"ion-button",28),g.hc("click",(function(t){return g.qc(a),g.jc(2).togglePlayer(!0)})),g.Xb(1,"ion-icon",33),g.Yb()}}function R(t,n){if(1&t){var a=g.ac();g.Zb(0,"ion-footer"),g.Zb(1,"ion-toolbar",24),g.Zb(2,"ion-row"),g.Zb(3,"ion-col",25),g.uc(4),g.Yb(),g.Zb(5,"ion-col",4),g.Zb(6,"ion-range",26,27),g.hc("ngModelChange",(function(t){return g.qc(a),g.jc().progress=t}))("touchend",(function(t){return g.qc(a),g.jc().seek()}))("mouseup",(function(t){return g.qc(a),g.jc().seek()})),g.Yb(),g.Yb(),g.Zb(8,"ion-col",25),g.Zb(9,"ion-button",28),g.hc("click",(function(t){return g.qc(a),g.jc().prev()})),g.Xb(10,"ion-icon",29),g.Yb(),g.tc(11,C,2,0,"ion-button",30),g.tc(12,x,2,0,"ion-button",30),g.Zb(13,"ion-button",28),g.hc("click",(function(t){return g.qc(a),g.jc().next()})),g.Xb(14,"ion-icon",31),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb()}if(2&t){var i=g.jc();g.Mb(4),g.wc(" ",i.activeTrack.title," "),g.Mb(2),g.mc("ngModel",i.progress),g.Mb(5),g.mc("ngIf",!i.isPlaying),g.Mb(1),g.mc("ngIf",i.isPlaying)}}var D,M,P=[{path:"",component:(D=function(){function t(n,a,i,e,o,r,s,l,c){var h=this;_classCallCheck(this,t),this.authService=n,this.toastService=a,this.file=i,this.platform=e,this.transfer=o,this.alertController=r,this.fileOpener=s,this.loader=l,this.storageService=c,this.activeTrack=null,this.player=null,this.isPlaying=!1,this.duration=-1,this.display_position="00:00",this.display_duration="00:00",this.progress=0,this.segment="bhaktiprakash",this.storageService.getIMEI().then((function(t){console.log("IMEIBHAJAN => "+t),h.imei=t,h.getBhaktiprakash(),h.getRamayansaar()}))}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"getBhaktiprakash",value:function(){var t=this;this.loader.loadingPresent(),this.authService.GetDownloadList({imei_number:this.imei,type:"Granths_Bhakti"}).subscribe((function(n){console.log(n),t.loader.loadingDismiss(),t.Bhaktiprakash=n}),(function(n){t.loader.loadingDismiss(),console.log("error")}))}},{key:"getRamayansaar",value:function(){var t=this;this.authService.GetDownloadList({imei_number:this.imei,type:"Granths_RamayanSaar"}).subscribe((function(n){console.log(n),t.Ramayansaar=n}),(function(n){t.loader.loadingDismiss(),console.log("error")}))}},{key:"removeplaylistbhakti",value:function(t){var n=this;this.authService.DeleteDownloadList({id:t.id}).subscribe((function(t){console.log(t),n.getBhaktiprakash()}),(function(t){console.log("error")}))}},{key:"removeplaylistramayan",value:function(t){var n=this;this.authService.DeleteDownloadList({id:t.id}).subscribe((function(t){console.log(t),n.getRamayansaar()}),(function(t){console.log("error")}))}},{key:"downloadplaylistbhakti",value:function(t){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a,i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({header:t.title,message:"Download Audio",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(t){console.log("Confirm Cancel: blah")}},{text:"Download",handler:function(){var n;n=i.platform.is("ios")?i.file.documentsDirectory:i.file.externalRootDirectory+"/ShreeRamSharnam/";var a=i.transfer.create();i.loader.loadingPresent("Downloading....Please wait it will take time to download!"),a.download(t.url,n+t.title+".mp3").then((function(a){var e=a.toURL();console.log(e),i.loader.loadingDismiss(),i.toastService.presentToast(t.title+"  Download Completed...!"),i.fileOpener.showOpenWithDialog(n+t.title+".mp3","audio/mp3").then((function(){return console.log("File is opened")})).catch((function(t){return console.log("Error opening file",t)}))})),console.log("Confirm Okay")}}]});case 2:return a=n.sent,n.next=5,a.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"downloadplaylistramayan",value:function(t){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a,i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({header:t.title,message:"Download Audio",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(t){console.log("Confirm Cancel: blah")}},{text:"Download",handler:function(){var n;n=i.platform.is("ios")?i.file.documentsDirectory:i.file.externalRootDirectory+"/ShreeRamSharnam/";var a=i.transfer.create();console.log(t.url),i.loader.loadingPresent("Downloading....Please wait it will take time to download!"),a.download(t.url,n+t.title+".mp3").then((function(t){var n=t.toURL();console.log(n),i.loader.loadingDismiss(),i.toastService.presentToast("Download Completed...!")})),console.log("Confirm Okay")}}]});case 2:return a=n.sent,n.next=5,a.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"downloadAllbhakti",value:function(){var t,n=this;t=this.platform.is("ios")?this.file.documentsDirectory:this.file.externalRootDirectory+"/ShreeRamSharnam/";for(var a=this.transfer.create(),i=function(i){console.log("ALL URL=>"+JSON.stringify(n.Bhaktiprakash[i].url)),n.loader.loadingPresent("Downloading....Please wait it will take time to download!"),a.download(n.Bhaktiprakash[i].url,t+n.Bhaktiprakash[i].title+".mp3").then((function(t){var a=t.toURL();console.log(a),n.loader.loadingDismiss(),n.toastService.presentToast(n.Bhaktiprakash[i].title+"  Download Completed...!")}))},e=0;e<this.Bhaktiprakash.length;e++)i(e)}},{key:"downloadAllramayan",value:function(){var t,n=this;t=this.platform.is("ios")?this.file.documentsDirectory:this.file.externalRootDirectory+"/ShreeRamSharnam/";for(var a=this.transfer.create(),i=function(i){console.log("ALL URL=>"+JSON.stringify(n.Ramayansaar[i].url)),n.loader.loadingPresent("Downloading....Please wait it will take time to download!"),a.download(n.Ramayansaar[i].url,t+n.Ramayansaar[i].title+".mp3").then((function(t){var a=t.toURL();console.log(a),n.loader.loadingDismiss(),n.toastService.presentToast(n.Ramayansaar[i].title+"  Download Completed...!")}))},e=0;e<this.Ramayansaar.length;e++)i(e)}},{key:"start",value:function(t){var n=this;this.player&&this.player.stop(),this.player=new u.Howl({src:[t.url],html5:!0,onplay:function(){n.isPlaying=!0,n.activeTrack=t,n.updateProgess()},onend:function(){}}),this.player.play()}},{key:"togglePlayer",value:function(t){this.isPlaying=!t,t?this.player.pause():this.player.play()}},{key:"next",value:function(){if("bhaktiprakash"===this.segment){var t=this.Bhaktiprakash.indexOf(this.activeTrack);this.start(t!==this.Bhaktiprakash.length-1?this.Bhaktiprakash[t+1]:this.Bhaktiprakash[0])}if("ramayansaar"===this.segment){var n=this.Ramayansaar.indexOf(this.activeTrack);this.start(n!==this.Ramayansaar.length-1?this.Ramayansaar[n+1]:this.Ramayansaar[0])}}},{key:"prev",value:function(){if("bhaktiprakash"===this.segment){var t=this.Bhaktiprakash.indexOf(this.activeTrack);this.start(t>0?this.Bhaktiprakash[t-1]:this.Bhaktiprakash[this.Bhaktiprakash.length-1])}if("ramayansaar"===this.segment){var n=this.Ramayansaar.indexOf(this.activeTrack);this.start(n>0?this.Ramayansaar[n-1]:this.Ramayansaar[this.Ramayansaar.length-1])}}},{key:"seek",value:function(){var t=+this.range.value,n=this.player.duration();this.player.seek(n*(t/100))}},{key:"updateProgess",value:function(){var t=this,n=this.player.seek();this.progress=n/this.player.duration()*100||0,setTimeout((function(){t.updateProgess()}),1e3)}}]),t}(),D.\u0275fac=function(t){return new(t||D)(g.Wb(l.a),g.Wb(c.a),g.Wb(h.a),g.Wb(o.V),g.Wb(b.a),g.Wb(o.b),g.Wb(d.a),g.Wb(f.a),g.Wb(m.a))},D.\u0275cmp=g.Qb({type:D,selectors:[["app-audiogranth-downloadlist"]],viewQuery:function(t,n){var a;1&t&&g.yc(p,!0),2&t&&g.pc(a=g.ic())&&(n.range=a.first)},decls:23,vars:5,consts:[["color","primary"],["slot","start"],["autoHide","false"],["slot","end","src","assets/images/toolbar.png",1,"img1"],["size","12"],["mode","md",3,"ngModel","ngModelChange"],["value","bhaktiprakash"],[1,"ppp"],["value","ramayansaar"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf"],["vertical","center","horizontal","end","edge","","slot","fixed",3,"click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["vertical","center","horizontal","end","edge","","slot","fixed",3,"click"],["name","download"],["lines","none"],[1,"div_20"],[3,"src"],[1,"label"],["side","end"],["ion-button","",3,"click"],["slot","icon-only","name","trash",1,"icon-inner"],["slot","icon-only","name","download",1,"icon-inner"],["color","dark"],["size","12",1,"ion-text-center"],["max","100","color","primary",3,"ngModel","ngModelChange","touchend","mouseup"],["range",""],["fill","clear","color","primary",3,"click"],["slot","icon-only","name","skip-backward"],["fill","clear","color","primary",3,"click",4,"ngIf"],["slot","icon-only","name","skip-forward"],["slot","icon-only","name","play"],["slot","icon-only","name","pause"]],template:function(t,n){1&t&&(g.Zb(0,"ion-header"),g.Zb(1,"ion-toolbar",0),g.Zb(2,"ion-buttons",1),g.Xb(3,"ion-menu-button",2),g.Yb(),g.Zb(4,"ion-label"),g.uc(5," Audio From Granth Downloadlist "),g.Yb(),g.Xb(6,"img",3),g.Yb(),g.Yb(),g.Zb(7,"div"),g.Zb(8,"ion-grid"),g.Zb(9,"ion-row"),g.Zb(10,"ion-col",4),g.Zb(11,"ion-segment",5),g.hc("ngModelChange",(function(t){return n.segment=t})),g.Zb(12,"ion-segment-button",6),g.Zb(13,"ion-label",7),g.uc(14," Bhaktiprakash "),g.Yb(),g.Yb(),g.Zb(15,"ion-segment-button",8),g.Zb(16,"ion-label",7),g.uc(17,"Ramayansaar "),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(18,"ion-content"),g.Zb(19,"div",9),g.tc(20,v,3,2,"div",10),g.tc(21,Z,3,2,"div",10),g.Yb(),g.Yb(),g.tc(22,R,15,4,"ion-footer",11)),2&t&&(g.Mb(11),g.mc("ngModel",n.segment),g.Mb(8),g.mc("ngSwitch",n.segment),g.Mb(1),g.mc("ngSwitchCase","bhaktiprakash"),g.Mb(1),g.mc("ngSwitchCase","ramayansaar"),g.Mb(1),g.mc("ngIf",n.activeTrack))},directives:[o.q,o.N,o.f,o.z,o.w,o.p,o.D,o.k,o.E,o.Y,e.c,e.d,o.F,o.l,i.j,i.k,i.i,i.h,o.m,o.n,o.r,o.x,o.v,o.t,o.g,o.u,o.o,o.B,o.e],styles:[".div_20[_ngcontent-%COMP%]{width:20%;display:inline-block;margin:0;padding:5px;float:left}.label[_ngcontent-%COMP%]{height:50px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;word-break:break-all;white-space:normal}.icon-inner[_ngcontent-%COMP%]{font-size:25px;display:block;color:var(--ion-color-primary)}.img1[_ngcontent-%COMP%]{height:30px;width:100px;max-width:100%;border:0}.ppp[_ngcontent-%COMP%]{font-size:10px;text-align:center}ion-card[_ngcontent-%COMP%]{width:100%;margin-top:11px;margin-bottom:6px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.list-ios[_ngcontent-%COMP%]{margin-bottom:0!important}ion-list[_ngcontent-%COMP%]{padding:0}"]}),D)}],O=((M=function t(){_classCallCheck(this,t)}).\u0275mod=g.Ub({type:M}),M.\u0275inj=g.Tb({factory:function(t){return new(t||M)},imports:[[r.i.forChild(P)],r.i]}),M);a.d(n,"AudiogranthDownloadlistPageModule",(function(){return _}));var S,_=((S=function t(){_classCallCheck(this,t)}).\u0275mod=g.Ub({type:S}),S.\u0275inj=g.Tb({factory:function(t){return new(t||S)},imports:[[i.b,e.a,o.O,O]]}),S)}}]);