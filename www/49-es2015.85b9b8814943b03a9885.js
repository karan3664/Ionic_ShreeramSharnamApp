(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{jp5B:function(i,t,n){"use strict";n.r(t);var o=n("ofXK"),e=n("3Pt+"),a=n("c7TG"),s=n("tyNb"),c=n("mrSG"),l=n("lGQG"),r=n("n90K"),d=n("2g2N"),h=n("FAH8"),b=n("B7Rs"),g=n("HlzF"),u=n("te5A"),m=n("5dVO"),p=n("fXoL");const f=["range"];function v(i,t){if(1&i){const i=p.ac();p.Zb(0,"ion-list"),p.Zb(1,"ion-item-sliding"),p.Zb(2,"ion-item",15),p.Zb(3,"ion-card"),p.Zb(4,"div",16),p.Xb(5,"img",17),p.Yb(),p.Zb(6,"ion-label",18),p.uc(7),p.Yb(),p.Yb(),p.Yb(),p.Zb(8,"ion-item-options",19),p.Zb(9,"button",20),p.hc("click",(function(n){p.qc(i);const o=t.$implicit;return p.jc(2).removeplaylistpravachanCassettes(o)})),p.Xb(10,"ion-icon",21),p.Yb(),p.Zb(11,"button",20),p.hc("click",(function(n){p.qc(i);const o=t.$implicit;return p.jc(2).downloadplaylistpravachanCassettes(o)})),p.Xb(12,"ion-icon",22),p.Yb(),p.Yb(),p.Yb(),p.Yb()}if(2&i){const i=t.$implicit;p.Mb(5),p.nc("src",i.image,p.rc),p.Mb(2),p.wc(" ",i.title," ")}}function y(i,t){if(1&i&&(p.Zb(0,"div"),p.tc(1,v,13,2,"ion-list",14),p.Yb()),2&i){const i=p.jc();p.Mb(1),p.mc("ngForOf",i.SadnaSatsang)}}function w(i,t){if(1&i){const i=p.ac();p.Zb(0,"ion-list"),p.Zb(1,"ion-item-sliding"),p.Zb(2,"ion-item",15),p.Zb(3,"ion-card"),p.Zb(4,"div",16),p.Xb(5,"img",17),p.Yb(),p.Zb(6,"ion-label",18),p.uc(7),p.Yb(),p.Yb(),p.Yb(),p.Zb(8,"ion-item-options",19),p.Zb(9,"button",20),p.hc("click",(function(n){p.qc(i);const o=t.$implicit;return p.jc(2).removeplaylistpravachanRam(o)})),p.Xb(10,"ion-icon",21),p.Yb(),p.Zb(11,"button",20),p.hc("click",(function(n){p.qc(i);const o=t.$implicit;return p.jc(2).downloadplaylistpravachanRam(o)})),p.Xb(12,"ion-icon",22),p.Yb(),p.Yb(),p.Yb(),p.Yb()}if(2&i){const i=t.$implicit;p.Mb(5),p.nc("src",i.image,p.rc),p.Mb(2),p.wc(" ",i.title," ")}}function P(i,t){if(1&i&&(p.Zb(0,"div"),p.tc(1,w,13,2,"ion-list",14),p.Yb()),2&i){const i=p.jc();p.Mb(1),p.mc("ngForOf",i.PravachanRam)}}function Y(i,t){if(1&i){const i=p.ac();p.Zb(0,"ion-list"),p.Zb(1,"ion-item-sliding"),p.Zb(2,"ion-item",15),p.Zb(3,"ion-card"),p.Zb(4,"div",16),p.Xb(5,"img",17),p.Yb(),p.Zb(6,"ion-label",18),p.uc(7),p.Yb(),p.Yb(),p.Yb(),p.Zb(8,"ion-item-options",19),p.Zb(9,"button",20),p.hc("click",(function(n){p.qc(i);const o=t.$implicit;return p.jc(2).removeplaylistpravachanaudio(o)})),p.Xb(10,"ion-icon",21),p.Yb(),p.Zb(11,"button",20),p.hc("click",(function(n){p.qc(i);const o=t.$implicit;return p.jc(2).downloadplaylistpravachanaudio(o)})),p.Xb(12,"ion-icon",22),p.Yb(),p.Yb(),p.Yb(),p.Yb()}if(2&i){const i=t.$implicit;p.Mb(5),p.nc("src",i.image,p.rc),p.Mb(2),p.wc(" ",i.title,"")}}function Z(i,t){if(1&i&&(p.Zb(0,"div"),p.tc(1,Y,13,2,"ion-list",14),p.Yb()),2&i){const i=p.jc();p.Mb(1),p.mc("ngForOf",i.PravachanAudio)}}function C(i,t){if(1&i){const i=p.ac();p.Zb(0,"ion-list"),p.Zb(1,"ion-item-sliding"),p.Zb(2,"ion-item",23),p.hc("click",(function(n){p.qc(i);const o=t.$implicit;return p.jc(2).PlayVideo(o.url,o.title)})),p.Zb(3,"ion-card"),p.Zb(4,"div",16),p.Xb(5,"img",17),p.Yb(),p.Zb(6,"ion-label",18),p.uc(7),p.Yb(),p.Yb(),p.Yb(),p.Zb(8,"ion-item-options",19),p.Zb(9,"button",20),p.hc("click",(function(n){p.qc(i);const o=t.$implicit;return p.jc(2).removeplaylistpravachanvideo(o)})),p.Xb(10,"ion-icon",21),p.Yb(),p.Zb(11,"button",20),p.hc("click",(function(n){p.qc(i);const o=t.$implicit;return p.jc(2).downloadplaylistpravachanvideo(o)})),p.Xb(12,"ion-icon",22),p.Yb(),p.Yb(),p.Yb(),p.Yb()}if(2&i){const i=t.$implicit;p.Mb(5),p.nc("src",i.image,p.rc),p.Mb(2),p.wc(" ",i.title,"")}}function k(i,t){if(1&i&&(p.Zb(0,"div"),p.tc(1,C,13,2,"ion-list",14),p.Yb()),2&i){const i=p.jc();p.Mb(1),p.mc("ngForOf",i.PravachanVideo)}}function D(i,t){if(1&i){const i=p.ac();p.Zb(0,"ion-button",28),p.hc("click",(function(t){return p.qc(i),p.jc(2).togglePlayer(!1)})),p.Xb(1,"ion-icon",32),p.Yb()}}function S(i,t){if(1&i){const i=p.ac();p.Zb(0,"ion-button",28),p.hc("click",(function(t){return p.qc(i),p.jc(2).togglePlayer(!0)})),p.Xb(1,"ion-icon",33),p.Yb()}}function M(i,t){if(1&i){const i=p.ac();p.Zb(0,"ion-footer"),p.Zb(1,"ion-toolbar",24),p.Zb(2,"ion-row"),p.Zb(3,"ion-col",25),p.uc(4),p.Yb(),p.Zb(5,"ion-col",4),p.Zb(6,"ion-range",26,27),p.hc("ngModelChange",(function(t){return p.qc(i),p.jc().progress=t}))("touchend",(function(t){return p.qc(i),p.jc().seek()}))("mouseup",(function(t){return p.qc(i),p.jc().seek()})),p.Yb(),p.Yb(),p.Zb(8,"ion-col",25),p.Zb(9,"ion-button",28),p.hc("click",(function(t){return p.qc(i),p.jc().prev()})),p.Xb(10,"ion-icon",29),p.Yb(),p.tc(11,D,2,0,"ion-button",30),p.tc(12,S,2,0,"ion-button",30),p.Zb(13,"ion-button",28),p.hc("click",(function(t){return p.qc(i),p.jc().next()})),p.Xb(14,"ion-icon",31),p.Yb(),p.Yb(),p.Yb(),p.Yb(),p.Yb()}if(2&i){const i=p.jc();p.Mb(4),p.wc(" ",i.activeTrack.title," "),p.Mb(2),p.mc("ngModel",i.progress),p.Mb(5),p.mc("ngIf",!i.isPlaying),p.Mb(1),p.mc("ngIf",i.isPlaying)}}const O=[{path:"",component:(()=>{class i{constructor(i,t,n,o,e,a,s,c,l){this.authService=i,this.storageService=t,this.toastService=n,this.file=o,this.platform=e,this.transfer=a,this.alertController=s,this.fileOpener=c,this.loader=l,this.activeTrack=null,this.player=null,this.isPlaying=!1,this.duration=-1,this.display_position="00:00",this.display_duration="00:00",this.progress=0,this.segment="pravachan_cassette",this.storageService.getIMEI().then(i=>{console.log("IMEIBHAJAN => "+i),this.imei=i,this.getSadhnaSatsang(),this.getPravachanRam(),this.getPravachanAudio()})}ngOnInit(){}onCatChange(i){console.log(i)}getSadhnaSatsang(){this.loader.loadingPresent(),this.authService.GetDownloadList({imei_number:this.imei,type:"Pravachan_Cassettes"}).subscribe(i=>{console.log(i),this.loader.loadingDismiss(),this.SadnaSatsang=i},i=>{this.loader.loadingDismiss(),console.log("error")})}getPravachanRam(){this.loader.loadingPresent(),this.authService.GetDownloadList({imei_number:this.imei,type:"Pravachan_Ramayanji"}).subscribe(i=>{console.log(i),this.loader.loadingDismiss(),this.PravachanRam=i},i=>{this.loader.loadingDismiss(),console.log("error")})}getPravachanAudio(){this.loader.loadingPresent(),this.authService.GetDownloadList({imei_number:this.imei,type:"Pravachan_CD"}).subscribe(i=>{console.log(i),this.loader.loadingDismiss(),this.PravachanAudio=i},i=>{this.loader.loadingDismiss(),console.log("error")})}getPravachanVideo(){this.loader.loadingPresent(),this.authService.GetDownloadList({imei_number:this.imei,type:"Pravachan_Video"}).subscribe(i=>{console.log(i),this.loader.loadingDismiss(),this.PravachanVideo=i},i=>{this.loader.loadingDismiss(),console.log("error")})}removeplaylistpravachanCassettes(i){this.authService.DeleteDownloadList({id:i.id}).subscribe(i=>{console.log(i),this.getSadhnaSatsang()},i=>{console.log("error")})}removeplaylistpravachanRam(i){this.authService.DeleteDownloadList({id:i.id}).subscribe(i=>{console.log(i),this.getPravachanRam()},i=>{console.log("error")})}removeplaylistpravachanaudio(i){this.authService.DeleteDownloadList({id:i.id}).subscribe(i=>{console.log(i),this.getPravachanAudio()},i=>{console.log("error")})}removeplaylistpravachanvideo(i){this.authService.DeleteDownloadList({id:i.id}).subscribe(i=>{console.log(i),this.player&&this.player.stop(),this.PravachanVideo()},i=>{console.log("error")})}downloadplaylistpravachanCassettes(i){return Object(c.b)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({header:i.title,message:"Download Audio",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:i=>{console.log("Confirm Cancel: blah")}},{text:"Download",handler:()=>{let t=null;t=this.platform.is("ios")?this.file.documentsDirectory:this.file.externalRootDirectory+"/ShreeRamSharnam/";const n=this.transfer.create();console.log(i.url),this.loader.loadingPresent("Downloading....Please wait it will take time to download!"),n.download(i.url,t+i.title+".mp3").then(i=>{const t=i.toURL();console.log(t),this.loader.loadingDismiss(),this.toastService.presentToast("Download Completed...!")}),console.log("Confirm Okay")}}]});yield t.present()}))}downloadplaylistpravachanRam(i){return Object(c.b)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({header:i.title,message:"Download Audio",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:i=>{console.log("Confirm Cancel: blah")}},{text:"Download",handler:()=>{let t=null;t=this.platform.is("ios")?this.file.documentsDirectory:this.file.dataDirectory;const n=this.transfer.create();console.log(i.url),this.loader.loadingPresent("Downloading....Please wait it will take time to download!"),n.download(i.url,t+i.title+".mp3").then(i=>{const t=i.toURL();console.log(t),this.loader.loadingDismiss(),this.toastService.presentToast("Download Completed...!")}),console.log("Confirm Okay")}}]});yield t.present()}))}downloadplaylistpravachanaudio(i){return Object(c.b)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({header:i.title,message:"Download Audio",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:i=>{console.log("Confirm Cancel: blah")}},{text:"Download",handler:()=>{let t=null;t=this.platform.is("ios")?this.file.documentsDirectory:this.file.dataDirectory;const n=this.transfer.create();console.log(i.url),this.loader.loadingPresent("Downloading....Please wait it will take time to download!"),n.download(i.url,t+i.title+".mp3").then(i=>{const t=i.toURL();console.log(t),this.loader.loadingDismiss(),this.toastService.presentToast("Download Completed...!")}),console.log("Confirm Okay")}}]});yield t.present()}))}downloadplaylistpravachanvideo(i){return Object(c.b)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({header:i.title,message:"Download Video",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:i=>{console.log("Confirm Cancel: blah")}},{text:"Download",handler:()=>{let t=null;t=this.platform.is("ios")?this.file.documentsDirectory:this.file.dataDirectory;const n=this.transfer.create();console.log(i.url),this.loader.loadingPresent("Downloading....Please wait it will take time to download!"),n.download(i.url,t+i.title+".mp4").then(i=>{const t=i.toURL();console.log(t),this.loader.loadingDismiss(),this.toastService.presentToast("Download Completed...!")}),console.log("Confirm Okay")}}]});yield t.present()}))}start(i){this.player&&this.player.stop(),this.player=new g.Howl({src:[i.url],html5:!0,onplay:()=>{this.isPlaying=!0,this.activeTrack=i,this.updateProgess()},onend:()=>{}}),this.player.play()}togglePlayer(i){this.isPlaying=!i,i?this.player.pause():this.player.play()}next(){if("pravachan_cassette"===this.segment){const i=this.SadnaSatsang.indexOf(this.activeTrack);this.start(i!==this.SadnaSatsang.length-1?this.SadnaSatsang[i+1]:this.SadnaSatsang[0])}if("audio_ramaynji"===this.segment){const i=this.PravachanRam.indexOf(this.activeTrack);this.start(i!==this.PravachanRam.length-1?this.PravachanRam[i+1]:this.PravachanRam[0])}if("audio_cd"===this.segment){const i=this.PravachanAudio.indexOf(this.activeTrack);this.start(i!==this.PravachanAudio.length-1?this.PravachanAudio[i+1]:this.PravachanAudio[0])}}prev(){if("pravachan_cassette"===this.segment){const i=this.SadnaSatsang.indexOf(this.activeTrack);this.start(i>0?this.SadnaSatsang[i-1]:this.SadnaSatsang[this.SadnaSatsang.length-1])}if("audio_ramaynji"===this.segment){const i=this.PravachanRam.indexOf(this.activeTrack);this.start(i>0?this.PravachanRam[i-1]:this.PravachanRam[this.PravachanRam.length-1])}if("audio_cd"===this.segment){const i=this.PravachanAudio.indexOf(this.activeTrack);this.start(i>0?this.PravachanAudio[i-1]:this.PravachanAudio[this.PravachanAudio.length-1])}}seek(){const i=+this.range.value,t=this.player.duration();this.player.seek(t*(i/100))}updateProgess(){const i=this.player.seek();this.progress=i/this.player.duration()*100||0,setTimeout(()=>{this.updateProgess()},1e3)}PlayVideo(i,t){console.log(i);let n=null;n=this.platform.is("ios")?this.file.documentsDirectory:this.file.dataDirectory;const o=this.transfer.create();this.loader.loadingPresent("Downloading....Please wait it will take time to download!"),o.download(i,n+t+".flv").then(i=>{const o=i.toURL();console.log(o),this.loader.loadingDismiss(),this.fileOpener.showOpenWithDialog(n+t+".flv","video/flv").then(()=>console.log("File is opened")).catch(i=>console.log("Error opening file",i))})}}return i.\u0275fac=function(t){return new(t||i)(p.Wb(l.a),p.Wb(r.a),p.Wb(d.a),p.Wb(h.a),p.Wb(a.V),p.Wb(b.a),p.Wb(a.b),p.Wb(u.a),p.Wb(m.a))},i.\u0275cmp=p.Qb({type:i,selectors:[["app-pravachan-downloadlist"]],viewQuery:function(i,t){var n;1&i&&p.yc(f,!0),2&i&&p.pc(n=p.ic())&&(t.range=n.first)},decls:30,vars:7,consts:[["color","primary"],["slot","start"],["autoHide","false"],["slot","end","src","assets/images/toolbar.png",1,"img1"],["size","12"],["mode","md","scrollable","",3,"ngModel","ngModelChange","ionChange"],["value","pravachan_cassette"],[1,"ppp"],["value","audio_ramaynji"],["value","audio_cd"],["value","video"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf"],[4,"ngFor","ngForOf"],["lines","none"],[1,"div_20"],[3,"src"],[1,"label"],["side","end"],["ion-button","",3,"click"],["slot","icon-only","name","trash",1,"icon-inner"],["slot","icon-only","name","download",1,"icon-inner"],["lines","none",3,"click"],["color","dark"],["size","12",1,"ion-text-center"],["max","100","color","primary",3,"ngModel","ngModelChange","touchend","mouseup"],["range",""],["fill","clear","color","primary",3,"click"],["slot","icon-only","name","skip-backward"],["fill","clear","color","primary",3,"click",4,"ngIf"],["slot","icon-only","name","skip-forward"],["slot","icon-only","name","play"],["slot","icon-only","name","pause"]],template:function(i,t){1&i&&(p.Zb(0,"ion-header"),p.Zb(1,"ion-toolbar",0),p.Zb(2,"ion-buttons",1),p.Xb(3,"ion-menu-button",2),p.Yb(),p.Zb(4,"ion-label"),p.uc(5," Pravachan Downloadlist "),p.Yb(),p.Xb(6,"img",3),p.Yb(),p.Yb(),p.Zb(7,"ion-content"),p.Zb(8,"ion-grid"),p.Zb(9,"ion-row"),p.Zb(10,"ion-col",4),p.Zb(11,"ion-segment",5),p.hc("ngModelChange",(function(i){return t.segment=i}))("ionChange",(function(i){return t.onCatChange(i)})),p.Zb(12,"ion-segment-button",6),p.Zb(13,"ion-label",7),p.uc(14," Audio Cassettes "),p.Yb(),p.Yb(),p.Zb(15,"ion-segment-button",8),p.Zb(16,"ion-label",7),p.uc(17," Audio Ramayanji "),p.Yb(),p.Yb(),p.Zb(18,"ion-segment-button",9),p.Zb(19,"ion-label",7),p.uc(20,"Audio Cd's "),p.Yb(),p.Yb(),p.Zb(21,"ion-segment-button",10),p.Zb(22,"ion-label",7),p.uc(23,"Video "),p.Yb(),p.Yb(),p.Yb(),p.Yb(),p.Yb(),p.Yb(),p.Zb(24,"div",11),p.tc(25,y,2,1,"div",12),p.tc(26,P,2,1,"div",12),p.tc(27,Z,2,1,"div",12),p.tc(28,k,2,1,"div",12),p.Yb(),p.Yb(),p.tc(29,M,15,4,"ion-footer",13)),2&i&&(p.Mb(11),p.mc("ngModel",t.segment),p.Mb(13),p.mc("ngSwitch",t.segment),p.Mb(1),p.mc("ngSwitchCase","pravachan_cassette"),p.Mb(1),p.mc("ngSwitchCase","audio_ramaynji"),p.Mb(1),p.mc("ngSwitchCase","audio_cd"),p.Mb(1),p.mc("ngSwitchCase","video"),p.Mb(1),p.mc("ngIf",t.activeTrack))},directives:[a.q,a.N,a.f,a.z,a.w,a.l,a.p,a.D,a.k,a.E,a.Y,e.c,e.d,a.F,o.j,o.k,o.i,o.h,a.x,a.v,a.t,a.g,a.u,a.r,a.o,a.B,a.e],styles:[".div_20[_ngcontent-%COMP%]{width:20%;display:inline-block;margin:0;padding:5px;float:left}.label[_ngcontent-%COMP%]{height:50px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;word-break:break-all;white-space:normal}.icon-inner[_ngcontent-%COMP%]{font-size:25px;display:block}.icon-inner[_ngcontent-%COMP%], .ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.ion-icon[_ngcontent-%COMP%]{font-size:40px}.rangePlaytime[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.rangePlaytime[_ngcontent-%COMP%]   .startTime[_ngcontent-%COMP%]{padding-left:9px}.rangePlaytime[_ngcontent-%COMP%]   .endTime[_ngcontent-%COMP%]{padding-right:15px}.img1[_ngcontent-%COMP%]{height:30px;width:100px;max-width:100%;border:0}.ppp[_ngcontent-%COMP%]{font-size:10px;text-align:center}"]}),i})()}];let _=(()=>{class i{}return i.\u0275mod=p.Ub({type:i}),i.\u0275inj=p.Tb({factory:function(t){return new(t||i)},imports:[[s.i.forChild(O)],s.i]}),i})();n.d(t,"PravachanDownloadlistPageModule",(function(){return j}));let j=(()=>{class i{}return i.\u0275mod=p.Ub({type:i}),i.\u0275inj=p.Tb({factory:function(t){return new(t||i)},imports:[[o.b,e.a,a.O,_]]}),i})()}}]);