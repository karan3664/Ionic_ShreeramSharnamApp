(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"+V8a":function(t,i,n){"use strict";n.r(i);var o=n("ofXK"),a=n("3Pt+"),e=n("c7TG"),s=n("tyNb"),l=n("mrSG"),r=n("lGQG"),c=n("2g2N"),h=n("FAH8"),b=n("B7Rs"),d=n("HlzF"),m=n("te5A"),g=n("5dVO"),p=n("n90K"),u=n("fXoL");const f=["range"];function y(t,i){if(1&t){const t=u.ac();u.Zb(0,"ion-fab",14),u.hc("click",(function(i){return u.qc(t),u.jc(2).downloadAllbhakti()})),u.Zb(1,"ion-fab-button",0),u.Xb(2,"ion-icon",15),u.Yb(),u.Yb()}}function k(t,i){if(1&t){const t=u.ac();u.Zb(0,"ion-list"),u.Zb(1,"ion-item-sliding"),u.Zb(2,"ion-item",16),u.Zb(3,"ion-card"),u.Zb(4,"div",17),u.Xb(5,"img",18),u.Yb(),u.Zb(6,"ion-label",19),u.uc(7),u.Yb(),u.Yb(),u.Yb(),u.Zb(8,"ion-item-options",20),u.Zb(9,"button",21),u.hc("click",(function(n){u.qc(t);const o=i.$implicit;return u.jc(2).removeplaylistbhakti(o)})),u.Xb(10,"ion-icon",22),u.Yb(),u.Zb(11,"button",21),u.hc("click",(function(n){u.qc(t);const o=i.$implicit;return u.jc(2).downloadplaylistbhakti(o)})),u.Xb(12,"ion-icon",23),u.Yb(),u.Yb(),u.Yb(),u.Yb()}if(2&t){const t=i.$implicit;u.Mb(5),u.nc("src",t.image,u.rc),u.Mb(2),u.wc(" ",t.title," ")}}function w(t,i){if(1&t&&(u.Zb(0,"div"),u.tc(1,y,3,0,"ion-fab",12),u.tc(2,k,13,2,"ion-list",13),u.Yb()),2&t){const t=u.jc();u.Mb(1),u.mc("ngForOf",t.Bhaktiprakash),u.Mb(1),u.mc("ngForOf",t.Bhaktiprakash)}}function v(t,i){if(1&t){const t=u.ac();u.Zb(0,"ion-fab",14),u.hc("click",(function(i){return u.qc(t),u.jc(2).downloadAllramayan()})),u.Zb(1,"ion-fab-button",0),u.Xb(2,"ion-icon",15),u.Yb(),u.Yb()}}function Y(t,i){if(1&t){const t=u.ac();u.Zb(0,"ion-list"),u.Zb(1,"ion-item-sliding"),u.Zb(2,"ion-item",16),u.Zb(3,"ion-card"),u.Zb(4,"div",17),u.Xb(5,"img",18),u.Yb(),u.Zb(6,"ion-label",19),u.uc(7),u.Yb(),u.Yb(),u.Yb(),u.Zb(8,"ion-item-options",20),u.Zb(9,"button",21),u.hc("click",(function(n){u.qc(t);const o=i.$implicit;return u.jc(2).removeplaylistramayan(o)})),u.Xb(10,"ion-icon",22),u.Yb(),u.Zb(11,"button",21),u.hc("click",(function(n){u.qc(t);const o=i.$implicit;return u.jc(2).downloadplaylistramayan(o)})),u.Xb(12,"ion-icon",23),u.Yb(),u.Yb(),u.Yb(),u.Yb()}if(2&t){const t=i.$implicit;u.Mb(5),u.nc("src",t.image,u.rc),u.Mb(2),u.wc(" ",t.title," ")}}function Z(t,i){if(1&t&&(u.Zb(0,"div"),u.tc(1,v,3,0,"ion-fab",12),u.tc(2,Y,13,2,"ion-list",13),u.Yb()),2&t){const t=u.jc();u.Mb(1),u.mc("ngForOf",t.Ramayansaar),u.Mb(1),u.mc("ngForOf",t.Ramayansaar)}}function D(t,i){if(1&t){const t=u.ac();u.Zb(0,"ion-button",28),u.hc("click",(function(i){return u.qc(t),u.jc(2).togglePlayer(!1)})),u.Xb(1,"ion-icon",32),u.Yb()}}function M(t,i){if(1&t){const t=u.ac();u.Zb(0,"ion-button",28),u.hc("click",(function(i){return u.qc(t),u.jc(2).togglePlayer(!0)})),u.Xb(1,"ion-icon",33),u.Yb()}}function R(t,i){if(1&t){const t=u.ac();u.Zb(0,"ion-footer"),u.Zb(1,"ion-toolbar",24),u.Zb(2,"ion-row"),u.Zb(3,"ion-col",25),u.uc(4),u.Yb(),u.Zb(5,"ion-col",4),u.Zb(6,"ion-range",26,27),u.hc("ngModelChange",(function(i){return u.qc(t),u.jc().progress=i}))("touchend",(function(i){return u.qc(t),u.jc().seek()}))("mouseup",(function(i){return u.qc(t),u.jc().seek()})),u.Yb(),u.Yb(),u.Zb(8,"ion-col",25),u.Zb(9,"ion-button",28),u.hc("click",(function(i){return u.qc(t),u.jc().prev()})),u.Xb(10,"ion-icon",29),u.Yb(),u.tc(11,D,2,0,"ion-button",30),u.tc(12,M,2,0,"ion-button",30),u.Zb(13,"ion-button",28),u.hc("click",(function(i){return u.qc(t),u.jc().next()})),u.Xb(14,"ion-icon",31),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb()}if(2&t){const t=u.jc();u.Mb(4),u.wc(" ",t.activeTrack.title," "),u.Mb(2),u.mc("ngModel",t.progress),u.Mb(5),u.mc("ngIf",!t.isPlaying),u.Mb(1),u.mc("ngIf",t.isPlaying)}}const x=[{path:"",component:(()=>{class t{constructor(t,i,n,o,a,e,s,l,r){this.authService=t,this.toastService=i,this.file=n,this.platform=o,this.transfer=a,this.alertController=e,this.fileOpener=s,this.loader=l,this.storageService=r,this.activeTrack=null,this.player=null,this.isPlaying=!1,this.duration=-1,this.display_position="00:00",this.display_duration="00:00",this.progress=0,this.segment="bhaktiprakash",this.storageService.getIMEI().then(t=>{console.log("IMEIBHAJAN => "+t),this.imei=t,this.getBhaktiprakash(),this.getRamayansaar()})}ngOnInit(){}getBhaktiprakash(){this.loader.loadingPresent(),this.authService.GetDownloadList({imei_number:this.imei,type:"Granths_Bhakti"}).subscribe(t=>{console.log(t),this.loader.loadingDismiss(),this.Bhaktiprakash=t},t=>{this.loader.loadingDismiss(),console.log("error")})}getRamayansaar(){this.authService.GetDownloadList({imei_number:this.imei,type:"Granths_RamayanSaar"}).subscribe(t=>{console.log(t),this.Ramayansaar=t},t=>{this.loader.loadingDismiss(),console.log("error")})}removeplaylistbhakti(t){this.authService.DeleteDownloadList({id:t.id}).subscribe(t=>{console.log(t),this.getBhaktiprakash()},t=>{console.log("error")})}removeplaylistramayan(t){this.authService.DeleteDownloadList({id:t.id}).subscribe(t=>{console.log(t),this.getRamayansaar()},t=>{console.log("error")})}downloadplaylistbhakti(t){return Object(l.b)(this,void 0,void 0,(function*(){const i=yield this.alertController.create({header:t.title,message:"Download Audio",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:t=>{console.log("Confirm Cancel: blah")}},{text:"Download",handler:()=>{let i=null;i=this.platform.is("ios")?this.file.documentsDirectory:this.file.externalRootDirectory+"/ShreeRamSharnam/";const n=this.transfer.create();this.loader.loadingPresent("Downloading....Please wait it will take time to download!"),n.download(t.url,i+t.title+".mp3").then(n=>{const o=n.toURL();console.log(o),this.loader.loadingDismiss(),this.toastService.presentToast(t.title+"  Download Completed...!"),this.fileOpener.showOpenWithDialog(i+t.title+".mp3","audio/mp3").then(()=>console.log("File is opened")).catch(t=>console.log("Error opening file",t))}),console.log("Confirm Okay")}}]});yield i.present()}))}downloadplaylistramayan(t){return Object(l.b)(this,void 0,void 0,(function*(){const i=yield this.alertController.create({header:t.title,message:"Download Audio",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:t=>{console.log("Confirm Cancel: blah")}},{text:"Download",handler:()=>{let i=null;i=this.platform.is("ios")?this.file.documentsDirectory:this.file.externalRootDirectory+"/ShreeRamSharnam/";const n=this.transfer.create();console.log(t.url),this.loader.loadingPresent("Downloading....Please wait it will take time to download!"),n.download(t.url,i+t.title+".mp3").then(t=>{const i=t.toURL();console.log(i),this.loader.loadingDismiss(),this.toastService.presentToast("Download Completed...!")}),console.log("Confirm Okay")}}]});yield i.present()}))}downloadAllbhakti(){let t=null;t=this.platform.is("ios")?this.file.documentsDirectory:this.file.externalRootDirectory+"/ShreeRamSharnam/";const i=this.transfer.create();for(let n=0;n<this.Bhaktiprakash.length;n++)console.log("ALL URL=>"+JSON.stringify(this.Bhaktiprakash[n].url)),this.loader.loadingPresent("Downloading....Please wait it will take time to download!"),i.download(this.Bhaktiprakash[n].url,t+this.Bhaktiprakash[n].title+".mp3").then(t=>{const i=t.toURL();console.log(i),this.loader.loadingDismiss(),this.toastService.presentToast(this.Bhaktiprakash[n].title+"  Download Completed...!")})}downloadAllramayan(){let t=null;t=this.platform.is("ios")?this.file.documentsDirectory:this.file.externalRootDirectory+"/ShreeRamSharnam/";const i=this.transfer.create();for(let n=0;n<this.Ramayansaar.length;n++)console.log("ALL URL=>"+JSON.stringify(this.Ramayansaar[n].url)),this.loader.loadingPresent("Downloading....Please wait it will take time to download!"),i.download(this.Ramayansaar[n].url,t+this.Ramayansaar[n].title+".mp3").then(t=>{const i=t.toURL();console.log(i),this.loader.loadingDismiss(),this.toastService.presentToast(this.Ramayansaar[n].title+"  Download Completed...!")})}start(t){this.player&&this.player.stop(),this.player=new d.Howl({src:[t.url],html5:!0,onplay:()=>{this.isPlaying=!0,this.activeTrack=t,this.updateProgess()},onend:()=>{}}),this.player.play()}togglePlayer(t){this.isPlaying=!t,t?this.player.pause():this.player.play()}next(){if("bhaktiprakash"===this.segment){const t=this.Bhaktiprakash.indexOf(this.activeTrack);this.start(t!==this.Bhaktiprakash.length-1?this.Bhaktiprakash[t+1]:this.Bhaktiprakash[0])}if("ramayansaar"===this.segment){const t=this.Ramayansaar.indexOf(this.activeTrack);this.start(t!==this.Ramayansaar.length-1?this.Ramayansaar[t+1]:this.Ramayansaar[0])}}prev(){if("bhaktiprakash"===this.segment){const t=this.Bhaktiprakash.indexOf(this.activeTrack);this.start(t>0?this.Bhaktiprakash[t-1]:this.Bhaktiprakash[this.Bhaktiprakash.length-1])}if("ramayansaar"===this.segment){const t=this.Ramayansaar.indexOf(this.activeTrack);this.start(t>0?this.Ramayansaar[t-1]:this.Ramayansaar[this.Ramayansaar.length-1])}}seek(){const t=+this.range.value,i=this.player.duration();this.player.seek(i*(t/100))}updateProgess(){const t=this.player.seek();this.progress=t/this.player.duration()*100||0,setTimeout(()=>{this.updateProgess()},1e3)}}return t.\u0275fac=function(i){return new(i||t)(u.Wb(r.a),u.Wb(c.a),u.Wb(h.a),u.Wb(e.V),u.Wb(b.a),u.Wb(e.b),u.Wb(m.a),u.Wb(g.a),u.Wb(p.a))},t.\u0275cmp=u.Qb({type:t,selectors:[["app-audiogranth-downloadlist"]],viewQuery:function(t,i){var n;1&t&&u.yc(f,!0),2&t&&u.pc(n=u.ic())&&(i.range=n.first)},decls:23,vars:5,consts:[["color","primary"],["slot","start"],["autoHide","false"],["slot","end","src","assets/images/toolbar.png",1,"img1"],["size","12"],["mode","md",3,"ngModel","ngModelChange"],["value","bhaktiprakash"],[1,"ppp"],["value","ramayansaar"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf"],["vertical","center","horizontal","end","edge","","slot","fixed",3,"click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["vertical","center","horizontal","end","edge","","slot","fixed",3,"click"],["name","download"],["lines","none"],[1,"div_20"],[3,"src"],[1,"label"],["side","end"],["ion-button","",3,"click"],["slot","icon-only","name","trash",1,"icon-inner"],["slot","icon-only","name","download",1,"icon-inner"],["color","dark"],["size","12",1,"ion-text-center"],["max","100","color","primary",3,"ngModel","ngModelChange","touchend","mouseup"],["range",""],["fill","clear","color","primary",3,"click"],["slot","icon-only","name","skip-backward"],["fill","clear","color","primary",3,"click",4,"ngIf"],["slot","icon-only","name","skip-forward"],["slot","icon-only","name","play"],["slot","icon-only","name","pause"]],template:function(t,i){1&t&&(u.Zb(0,"ion-header"),u.Zb(1,"ion-toolbar",0),u.Zb(2,"ion-buttons",1),u.Xb(3,"ion-menu-button",2),u.Yb(),u.Zb(4,"ion-label"),u.uc(5," Audio From Granth Downloadlist "),u.Yb(),u.Xb(6,"img",3),u.Yb(),u.Yb(),u.Zb(7,"div"),u.Zb(8,"ion-grid"),u.Zb(9,"ion-row"),u.Zb(10,"ion-col",4),u.Zb(11,"ion-segment",5),u.hc("ngModelChange",(function(t){return i.segment=t})),u.Zb(12,"ion-segment-button",6),u.Zb(13,"ion-label",7),u.uc(14," Bhaktiprakash "),u.Yb(),u.Yb(),u.Zb(15,"ion-segment-button",8),u.Zb(16,"ion-label",7),u.uc(17,"Ramayansaar "),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Zb(18,"ion-content"),u.Zb(19,"div",9),u.tc(20,w,3,2,"div",10),u.tc(21,Z,3,2,"div",10),u.Yb(),u.Yb(),u.tc(22,R,15,4,"ion-footer",11)),2&t&&(u.Mb(11),u.mc("ngModel",i.segment),u.Mb(8),u.mc("ngSwitch",i.segment),u.Mb(1),u.mc("ngSwitchCase","bhaktiprakash"),u.Mb(1),u.mc("ngSwitchCase","ramayansaar"),u.Mb(1),u.mc("ngIf",i.activeTrack))},directives:[e.q,e.N,e.f,e.z,e.w,e.p,e.D,e.k,e.E,e.Y,a.c,a.d,e.F,e.l,o.j,o.k,o.i,o.h,e.m,e.n,e.r,e.x,e.v,e.t,e.g,e.u,e.o,e.B,e.e],styles:[".div_20[_ngcontent-%COMP%]{width:20%;display:inline-block;margin:0;padding:5px;float:left}.label[_ngcontent-%COMP%]{height:50px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;word-break:break-all;white-space:normal}.icon-inner[_ngcontent-%COMP%]{font-size:25px;display:block;color:var(--ion-color-primary)}.img1[_ngcontent-%COMP%]{height:30px;width:100px;max-width:100%;border:0}.ppp[_ngcontent-%COMP%]{font-size:10px;text-align:center}ion-card[_ngcontent-%COMP%]{width:100%;margin-top:11px;margin-bottom:6px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.list-ios[_ngcontent-%COMP%]{margin-bottom:0!important}ion-list[_ngcontent-%COMP%]{padding:0}"]}),t})()}];let C=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(i){return new(i||t)},imports:[[s.i.forChild(x)],s.i]}),t})();n.d(i,"AudiogranthDownloadlistPageModule",(function(){return O}));let O=(()=>{class t{}return t.\u0275mod=u.Ub({type:t}),t.\u0275inj=u.Tb({factory:function(i){return new(i||t)},imports:[[o.b,a.a,e.O,C]]}),t})()}}]);