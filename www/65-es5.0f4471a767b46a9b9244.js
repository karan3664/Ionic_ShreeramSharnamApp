function _classCallCheck(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function _createClass(i,a,n){return a&&_defineProperties(i.prototype,a),n&&_defineProperties(i,n),i}(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{Sy5r:function(i,a,n){"use strict";n.r(a);var t=n("ofXK"),e=n("3Pt+"),o=n("c7TG"),c=n("tyNb"),r=n("lGQG"),s=n("n90K"),l=n("2g2N"),h=n("HlzF"),b=n("5dVO"),u=n("RU0F"),d=n("te5A"),g=n("FAH8"),v=n("B7Rs"),p=n("fXoL"),m=["range"];function f(i,a){if(1&i){var n=p.ac();p.Zb(0,"ion-list"),p.Zb(1,"ion-item-sliding"),p.Zb(2,"ion-item",15),p.hc("click",(function(i){p.qc(n);var t=a.$implicit;return p.jc(2).start(t)})),p.Zb(3,"ion-card"),p.Zb(4,"div",16),p.Xb(5,"img",17),p.Yb(),p.Zb(6,"ion-label",18),p.uc(7),p.Yb(),p.Yb(),p.Yb(),p.Zb(8,"ion-item-options",19),p.Zb(9,"button",20),p.hc("click",(function(i){p.qc(n);var t=a.$implicit;return p.jc(2).removeplaylistpravachanCassettes(t)})),p.Xb(10,"ion-icon",21),p.Yb(),p.Yb(),p.Yb(),p.Yb()}if(2&i){var t=a.$implicit;p.Mb(5),p.nc("src",t.image,p.rc),p.Mb(2),p.wc(" ",t.title," ")}}function y(i,a){if(1&i&&(p.Zb(0,"div"),p.tc(1,f,11,2,"ion-list",14),p.Yb()),2&i){var n=p.jc();p.Mb(1),p.mc("ngForOf",n.SadnaSatsang)}}function P(i,a){if(1&i){var n=p.ac();p.Zb(0,"ion-list"),p.Zb(1,"ion-item-sliding"),p.Zb(2,"ion-item",15),p.hc("click",(function(i){p.qc(n);var t=a.$implicit;return p.jc(2).start(t)})),p.Zb(3,"ion-card"),p.Zb(4,"div",16),p.Xb(5,"img",17),p.Yb(),p.Zb(6,"ion-label",18),p.uc(7),p.Yb(),p.Yb(),p.Yb(),p.Zb(8,"ion-item-options",19),p.Zb(9,"button",20),p.hc("click",(function(i){p.qc(n);var t=a.$implicit;return p.jc(2).removeplaylistpravachanRam(t)})),p.Xb(10,"ion-icon",21),p.Yb(),p.Yb(),p.Yb(),p.Yb()}if(2&i){var t=a.$implicit;p.Mb(5),p.nc("src",t.image,p.rc),p.Mb(2),p.wc(" ",t.title," ")}}function k(i,a){if(1&i&&(p.Zb(0,"div"),p.tc(1,P,11,2,"ion-list",14),p.Yb()),2&i){var n=p.jc();p.Mb(1),p.mc("ngForOf",n.PravachanRam)}}function Y(i,a){if(1&i){var n=p.ac();p.Zb(0,"ion-list"),p.Zb(1,"ion-item-sliding"),p.Zb(2,"ion-item",15),p.hc("click",(function(i){p.qc(n);var t=a.$implicit;return p.jc(2).start(t)})),p.Zb(3,"ion-card"),p.Zb(4,"div",16),p.Xb(5,"img",17),p.Yb(),p.Zb(6,"ion-label",18),p.uc(7),p.Yb(),p.Yb(),p.Yb(),p.Zb(8,"ion-item-options",19),p.Zb(9,"button",20),p.hc("click",(function(i){p.qc(n);var t=a.$implicit;return p.jc(2).removeplaylistpravachanaudio(t)})),p.Xb(10,"ion-icon",21),p.Yb(),p.Yb(),p.Yb(),p.Yb()}if(2&i){var t=a.$implicit;p.Mb(5),p.nc("src",t.image,p.rc),p.Mb(2),p.wc(" ",t.title,"")}}function Z(i,a){if(1&i&&(p.Zb(0,"div"),p.tc(1,Y,11,2,"ion-list",14),p.Yb()),2&i){var n=p.jc();p.Mb(1),p.mc("ngForOf",n.PravachanAudio)}}function _(i,a){if(1&i){var n=p.ac();p.Zb(0,"ion-list"),p.Zb(1,"ion-item-sliding"),p.Zb(2,"ion-item",15),p.hc("click",(function(i){p.qc(n);var t=a.$implicit;return p.jc(2).PlayVideo(t.url,t.title)})),p.Zb(3,"ion-card"),p.Zb(4,"div",16),p.Xb(5,"img",17),p.Yb(),p.Zb(6,"ion-label",18),p.uc(7),p.Yb(),p.Yb(),p.Yb(),p.Zb(8,"ion-item-options",19),p.Zb(9,"button",20),p.hc("click",(function(i){p.qc(n);var t=a.$implicit;return p.jc(2).removeplaylistpravachanvideo(t)})),p.Xb(10,"ion-icon",21),p.Yb(),p.Yb(),p.Yb(),p.Yb()}if(2&i){var t=a.$implicit;p.Mb(5),p.nc("src",t.image,p.rc),p.Mb(2),p.wc(" ",t.title,"")}}function M(i,a){if(1&i&&(p.Zb(0,"div"),p.tc(1,_,11,2,"ion-list",14),p.Yb()),2&i){var n=p.jc();p.Mb(1),p.mc("ngForOf",n.PravachanVideo)}}function S(i,a){1&i&&(p.Zb(0,"ion-label",33),p.uc(1,"--:--"),p.Yb())}function w(i,a){if(1&i&&(p.Zb(0,"ion-label",33),p.uc(1),p.Yb()),2&i){var n=p.jc(2);p.Mb(1),p.vc(n.display_duration)}}function C(i,a){if(1&i){var n=p.ac();p.Zb(0,"ion-button",29),p.hc("click",(function(i){return p.qc(n),p.jc(2).togglePlayer(!1)})),p.Xb(1,"ion-icon",34),p.Yb()}}function O(i,a){if(1&i){var n=p.ac();p.Zb(0,"ion-button",29),p.hc("click",(function(i){return p.qc(n),p.jc(2).togglePlayer(!0)})),p.Xb(1,"ion-icon",35),p.Yb()}}function j(i,a){if(1&i){var n=p.ac();p.Zb(0,"ion-footer"),p.Zb(1,"ion-toolbar",22),p.Zb(2,"ion-row"),p.Zb(3,"ion-col",23),p.uc(4),p.Yb(),p.Zb(5,"ion-col",4),p.Zb(6,"ion-range",24,25),p.hc("ngModelChange",(function(i){return p.qc(n),p.jc().progress=i}))("touchend",(function(i){return p.qc(n),p.jc().seek()}))("mouseup",(function(i){return p.qc(n),p.jc().seek()})),p.Yb(),p.Zb(8,"div",26),p.Zb(9,"ion-label",27),p.uc(10),p.Yb(),p.tc(11,S,2,0,"ion-label",28),p.tc(12,w,2,1,"ion-label",28),p.Yb(),p.Yb(),p.Zb(13,"ion-col",23),p.Zb(14,"ion-button",29),p.hc("click",(function(i){return p.qc(n),p.jc().prev()})),p.Xb(15,"ion-icon",30),p.Yb(),p.tc(16,C,2,0,"ion-button",31),p.tc(17,O,2,0,"ion-button",31),p.Zb(18,"ion-button",29),p.hc("click",(function(i){return p.qc(n),p.jc().next()})),p.Xb(19,"ion-icon",32),p.Yb(),p.Yb(),p.Yb(),p.Yb(),p.Yb()}if(2&i){var t=p.jc();p.Mb(4),p.wc(" ",t.activeTrack.title," "),p.Mb(2),p.mc("ngModel",t.progress),p.Mb(4),p.vc(t.display_position),p.Mb(1),p.mc("ngIf",-1==t.duration),p.Mb(1),p.mc("ngIf",-1!=t.duration),p.Mb(4),p.mc("ngIf",!t.isPlaying),p.Mb(1),p.mc("ngIf",t.isPlaying)}}var x,R,T=[{path:"PravachanPlaylistPage",component:(x=function(){function i(a,n,t,e,o,c,r,s,l){var h=this;_classCallCheck(this,i),this.authService=a,this.storageService=n,this.toastService=t,this.loader=e,this.streamingMedia=o,this.file=c,this.platform=r,this.transfer=s,this.fileOpener=l,this.activeTrack=null,this.player=null,this.isPlaying=!1,this.duration=-1,this.display_position="00:00",this.display_duration="00:00",this.progress=0,this.segment="pravachan_cassette",this.storageService.getIMEI().then((function(i){console.log("IMEIBHAJAN => "+i),h.imei=i,h.getSadhnaSatsang()}))}return _createClass(i,[{key:"ngOnInit",value:function(){}},{key:"onCatChange",value:function(i){console.log(i),this.getPravachanRam()}},{key:"getSadhnaSatsang",value:function(){var i=this;this.loader.loadingPresent(),this.authService.GetPlayList({imei_number:this.imei,type:"Pravachan_Cassettes"}).subscribe((function(a){console.log(a),i.loader.loadingDismiss(),i.SadnaSatsang=a}),(function(a){i.loader.loadingDismiss(),console.log("error")}))}},{key:"getPravachanRam",value:function(){var i=this;this.loader.loadingPresent(),this.authService.GetPlayList({imei_number:this.imei,type:"Pravachan_Ramayanji"}).subscribe((function(a){console.log(a),i.loader.loadingDismiss(),i.PravachanRam=a}),(function(a){i.loader.loadingDismiss(),console.log("error")}))}},{key:"getPravachanAudio",value:function(){var i=this;this.loader.loadingPresent(),this.authService.GetPlayList({imei_number:this.imei,type:"Pravachan_CD"}).subscribe((function(a){console.log(a),i.loader.loadingDismiss(),i.PravachanAudio=a}),(function(a){i.loader.loadingDismiss(),console.log("error")}))}},{key:"getPravachanVideo",value:function(){var i=this;this.loader.loadingPresent(),this.authService.GetPlayList({imei_number:this.imei,type:"Pravachan_Video"}).subscribe((function(a){console.log(a),i.loader.loadingDismiss(),i.PravachanVideo=a}),(function(a){i.loader.loadingDismiss(),console.log("error")}))}},{key:"removeplaylistpravachanCassettes",value:function(i){var a=this;this.authService.DeletePlayList({id:i.id}).subscribe((function(i){console.log(i),a.player&&a.player.stop(),a.getSadhnaSatsang()}),(function(i){console.log("error")}))}},{key:"removeplaylistpravachanRam",value:function(i){var a=this;this.authService.DeletePlayList({id:i.id}).subscribe((function(i){console.log(i),a.player&&a.player.stop(),a.PravachanRam()}),(function(i){console.log("error")}))}},{key:"removeplaylistpravachanaudio",value:function(i){var a=this;this.authService.DeletePlayList({id:i.id}).subscribe((function(i){console.log(i),a.player&&a.player.stop(),a.PravachanAudio()}),(function(i){console.log("error")}))}},{key:"removeplaylistpravachanvideo",value:function(i){var a=this;this.authService.DeletePlayList({id:i.id}).subscribe((function(i){console.log(i),a.player&&a.player.stop(),a.PravachanVideo()}),(function(i){console.log("error")}))}},{key:"start",value:function(i){var a=this;this.loader.loadingPresent(),this.player&&(this.player.unload(),this.player.stop()),this.player=new h.Howl({src:[i.url],html5:!0,onplay:function(){a.loader.loadingDismiss(),a.isPlaying=!0,a.activeTrack=i,a.updateProgess()},onload:function(){},onend:function(){if("pravachan_cassette"===a.segment){var i=a.SadnaSatsang.indexOf(a.activeTrack);a.start(i!==a.SadnaSatsang.length-1?a.SadnaSatsang[i+1]:a.SadnaSatsang[0])}if("audio_ramaynji"===a.segment){var n=a.PravachanRam.indexOf(a.activeTrack);a.start(n!==a.PravachanRam.length-1?a.PravachanRam[n+1]:a.PravachanRam[0])}if("audio_cd"===a.segment){var t=a.PravachanAudio.indexOf(a.activeTrack);a.start(t!==a.PravachanAudio.length-1?a.PravachanAudio[t+1]:a.PravachanAudio[0])}}}),this.player.play()}},{key:"togglePlayer",value:function(i){this.isPlaying=!i,i?this.player.pause():this.player.play()}},{key:"next",value:function(){if("pravachan_cassette"===this.segment){var i=this.SadnaSatsang.indexOf(this.activeTrack);this.start(i!==this.SadnaSatsang.length-1?this.SadnaSatsang[i+1]:this.SadnaSatsang[0])}if("audio_ramaynji"===this.segment){var a=this.PravachanRam.indexOf(this.activeTrack);this.start(a!==this.PravachanRam.length-1?this.PravachanRam[a+1]:this.PravachanRam[0])}if("audio_cd"===this.segment){var n=this.PravachanAudio.indexOf(this.activeTrack);this.start(n!==this.PravachanAudio.length-1?this.PravachanAudio[n+1]:this.PravachanAudio[0])}}},{key:"prev",value:function(){if("pravachan_cassette"===this.segment){var i=this.SadnaSatsang.indexOf(this.activeTrack);this.start(i>0?this.SadnaSatsang[i-1]:this.SadnaSatsang[this.SadnaSatsang.length-1])}if("audio_ramaynji"===this.segment){var a=this.PravachanRam.indexOf(this.activeTrack);this.start(a>0?this.PravachanRam[a-1]:this.PravachanRam[this.PravachanRam.length-1])}if("audio_cd"===this.segment){var n=this.PravachanAudio.indexOf(this.activeTrack);this.start(n>0?this.PravachanAudio[n-1]:this.PravachanAudio[this.PravachanAudio.length-1])}}},{key:"seek",value:function(){var i=+this.range.value,a=this.player.duration();this.player.seek(a*(i/100))}},{key:"updateProgess",value:function(){var i=this,a=this.player.seek();this.progress=a/this.player.duration()*100||0,setTimeout((function(){i.updateProgess()}),1e3)}},{key:"ionViewDidLeave",value:function(){this.player&&this.player.stop()}},{key:"ngOnDestroy",value:function(){this.player&&this.player.stop()}},{key:"PlayVideo",value:function(i,a){var n,t=this;console.log(i),n=this.platform.is("ios")?this.file.documentsDirectory:this.file.dataDirectory;var e=this.transfer.create();this.loader.loadingPresent("Downloading....Please wait it will take time to download!"),e.download(i,n+a+".flv").then((function(i){var e=i.toURL();console.log(e),t.loader.loadingDismiss(),t.fileOpener.showOpenWithDialog(n+a+".flv","video/flv").then((function(){return console.log("File is opened")})).catch((function(i){return console.log("Error opening file",i)}))}))}}]),i}(),x.\u0275fac=function(i){return new(i||x)(p.Wb(r.a),p.Wb(s.a),p.Wb(l.a),p.Wb(b.a),p.Wb(u.a),p.Wb(g.a),p.Wb(o.V),p.Wb(v.a),p.Wb(d.a))},x.\u0275cmp=p.Qb({type:x,selectors:[["app-pravachan-playlist"]],viewQuery:function(i,a){var n;1&i&&p.yc(m,!0),2&i&&p.pc(n=p.ic())&&(a.range=n.first)},decls:30,vars:7,consts:[["color","primary"],["slot","start"],["autoHide","false"],["slot","end","src","assets/images/toolbar.png",1,"img1"],["size","12"],["mode","md","scrollable","",3,"ngModel","ngModelChange","ionChange"],["value","pravachan_cassette"],[1,"ppp"],["value","audio_ramaynji"],["value","audio_cd"],["value","video"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf"],[4,"ngFor","ngForOf"],["lines","none",3,"click"],[1,"div_20"],[3,"src"],[1,"label"],["side","end"],["ion-button","",3,"click"],["slot","icon-only","name","trash",1,"icon-inner"],["color","dark"],["size","12",1,"ion-text-center"],["max","100","color","primary",3,"ngModel","ngModelChange","touchend","mouseup"],["range",""],[1,"rangePlaytime"],["color","light",1,"startTime"],["class","endTime","color","light",4,"ngIf"],["fill","clear","color","primary",3,"click"],["slot","icon-only","name","skip-backward"],["fill","clear","color","primary",3,"click",4,"ngIf"],["slot","icon-only","name","skip-forward"],["color","light",1,"endTime"],["slot","icon-only","name","play"],["slot","icon-only","name","pause"]],template:function(i,a){1&i&&(p.Zb(0,"ion-header"),p.Zb(1,"ion-toolbar",0),p.Zb(2,"ion-buttons",1),p.Xb(3,"ion-menu-button",2),p.Yb(),p.Zb(4,"ion-label"),p.uc(5," Pravchan Playlist "),p.Yb(),p.Xb(6,"img",3),p.Yb(),p.Yb(),p.Zb(7,"ion-content"),p.Zb(8,"ion-grid"),p.Zb(9,"ion-row"),p.Zb(10,"ion-col",4),p.Zb(11,"ion-segment",5),p.hc("ngModelChange",(function(i){return a.segment=i}))("ionChange",(function(i){return a.onCatChange(i)})),p.Zb(12,"ion-segment-button",6),p.Zb(13,"ion-label",7),p.uc(14," Audio Cassettes "),p.Yb(),p.Yb(),p.Zb(15,"ion-segment-button",8),p.Zb(16,"ion-label",7),p.uc(17," Audio Ramayanji "),p.Yb(),p.Yb(),p.Zb(18,"ion-segment-button",9),p.Zb(19,"ion-label",7),p.uc(20,"Audio Cd's"),p.Yb(),p.Yb(),p.Zb(21,"ion-segment-button",10),p.Zb(22,"ion-label",7),p.uc(23,"Video"),p.Yb(),p.Yb(),p.Yb(),p.Yb(),p.Yb(),p.Yb(),p.Zb(24,"div",11),p.tc(25,y,2,1,"div",12),p.tc(26,k,2,1,"div",12),p.tc(27,Z,2,1,"div",12),p.tc(28,M,2,1,"div",12),p.Yb(),p.Yb(),p.tc(29,j,20,7,"ion-footer",13)),2&i&&(p.Mb(11),p.mc("ngModel",a.segment),p.Mb(13),p.mc("ngSwitch",a.segment),p.Mb(1),p.mc("ngSwitchCase","pravachan_cassette"),p.Mb(1),p.mc("ngSwitchCase","audio_ramaynji"),p.Mb(1),p.mc("ngSwitchCase","audio_cd"),p.Mb(1),p.mc("ngSwitchCase","video"),p.Mb(1),p.mc("ngIf",a.activeTrack))},directives:[o.q,o.N,o.f,o.z,o.w,o.l,o.p,o.D,o.k,o.E,o.Y,e.c,e.d,o.F,t.j,t.k,t.i,t.h,o.x,o.v,o.t,o.g,o.u,o.r,o.o,o.B,o.e],styles:[".div_20[_ngcontent-%COMP%]{width:20%;display:inline-block;margin:0;padding:5px;float:left}.label[_ngcontent-%COMP%]{height:50px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;word-break:break-all;white-space:normal}.icon-inner[_ngcontent-%COMP%]{font-size:25px;display:block}.icon-inner[_ngcontent-%COMP%], .ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.ion-icon[_ngcontent-%COMP%]{font-size:40px}.rangePlaytime[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.rangePlaytime[_ngcontent-%COMP%]   .startTime[_ngcontent-%COMP%]{padding-left:9px}.rangePlaytime[_ngcontent-%COMP%]   .endTime[_ngcontent-%COMP%]{padding-right:15px}.img1[_ngcontent-%COMP%]{height:30px;width:100px;max-width:100%;border:0}.ppp[_ngcontent-%COMP%]{font-size:10px;text-align:center}ion-card[_ngcontent-%COMP%]{width:100%;margin-top:11px;margin-bottom:6px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.list-ios[_ngcontent-%COMP%]{margin-bottom:0!important}ion-list[_ngcontent-%COMP%]{padding:0}"]}),x),children:[{path:"pravachan-ramayanji",children:[{path:"",loadChildren:"./pages/play_list/pravachan-ramayanji/pravachan-ramayanji.module"}]},{path:"pravachan-cassettes",children:[{path:"",loadChildren:"./pages/play_list/pravachan-cassettes/pravachan-cassettes.module"}]},{path:"pravachan-cd",children:[{path:"",loadChildren:"./pages/play_list/pravachan-cd/pravachan-cd.module"}]},{path:"",redirectTo:"/PravachanPlaylistPage/pravachan-playlist",pathMatch:"full"}]}],A=((R=function i(){_classCallCheck(this,i)}).\u0275mod=p.Ub({type:R}),R.\u0275inj=p.Tb({factory:function(i){return new(i||R)},imports:[[c.i.forChild(T)],c.i]}),R);n.d(a,"PravachanPlaylistPageModule",(function(){return q}));var D,q=((D=function i(){_classCallCheck(this,i)}).\u0275mod=p.Ub({type:D}),D.\u0275inj=p.Tb({factory:function(i){return new(i||D)},imports:[[t.b,e.a,o.O,A]]}),D)}}]);