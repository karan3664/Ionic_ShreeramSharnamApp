function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var i=0;i<e.length;i++){var t=e[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function _createClass(n,e,i){return e&&_defineProperties(n.prototype,e),i&&_defineProperties(n,i),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{jp5B:function(n,e,i){"use strict";i.r(e);var t=i("ofXK"),a=i("3Pt+"),o=i("c7TG"),r=i("tyNb"),c=i("mrSG"),s=i("lGQG"),l=i("n90K"),u=i("2g2N"),d=i("FAH8"),b=i("B7Rs"),h=i("HlzF"),g=i("te5A"),v=i("5dVO"),f=i("fXoL"),m=["range"];function p(n,e){if(1&n){var i=f.ac();f.Zb(0,"ion-list"),f.Zb(1,"ion-item-sliding"),f.Zb(2,"ion-item",15),f.Zb(3,"ion-card"),f.Zb(4,"div",16),f.Xb(5,"img",17),f.Yb(),f.Zb(6,"ion-label",18),f.uc(7),f.Yb(),f.Yb(),f.Yb(),f.Zb(8,"ion-item-options",19),f.Zb(9,"button",20),f.hc("click",(function(n){f.qc(i);var t=e.$implicit;return f.jc(2).removeplaylistpravachanCassettes(t)})),f.Xb(10,"ion-icon",21),f.Yb(),f.Zb(11,"button",20),f.hc("click",(function(n){f.qc(i);var t=e.$implicit;return f.jc(2).downloadplaylistpravachanCassettes(t)})),f.Xb(12,"ion-icon",22),f.Yb(),f.Yb(),f.Yb(),f.Yb()}if(2&n){var t=e.$implicit;f.Mb(5),f.nc("src",t.image,f.rc),f.Mb(2),f.wc(" ",t.title," ")}}function y(n,e){if(1&n&&(f.Zb(0,"div"),f.tc(1,p,13,2,"ion-list",14),f.Yb()),2&n){var i=f.jc();f.Mb(1),f.mc("ngForOf",i.SadnaSatsang)}}function w(n,e){if(1&n){var i=f.ac();f.Zb(0,"ion-list"),f.Zb(1,"ion-item-sliding"),f.Zb(2,"ion-item",15),f.Zb(3,"ion-card"),f.Zb(4,"div",16),f.Xb(5,"img",17),f.Yb(),f.Zb(6,"ion-label",18),f.uc(7),f.Yb(),f.Yb(),f.Yb(),f.Zb(8,"ion-item-options",19),f.Zb(9,"button",20),f.hc("click",(function(n){f.qc(i);var t=e.$implicit;return f.jc(2).removeplaylistpravachanRam(t)})),f.Xb(10,"ion-icon",21),f.Yb(),f.Zb(11,"button",20),f.hc("click",(function(n){f.qc(i);var t=e.$implicit;return f.jc(2).downloadplaylistpravachanRam(t)})),f.Xb(12,"ion-icon",22),f.Yb(),f.Yb(),f.Yb(),f.Yb()}if(2&n){var t=e.$implicit;f.Mb(5),f.nc("src",t.image,f.rc),f.Mb(2),f.wc(" ",t.title," ")}}function k(n,e){if(1&n&&(f.Zb(0,"div"),f.tc(1,w,13,2,"ion-list",14),f.Yb()),2&n){var i=f.jc();f.Mb(1),f.mc("ngForOf",i.PravachanRam)}}function P(n,e){if(1&n){var i=f.ac();f.Zb(0,"ion-list"),f.Zb(1,"ion-item-sliding"),f.Zb(2,"ion-item",15),f.Zb(3,"ion-card"),f.Zb(4,"div",16),f.Xb(5,"img",17),f.Yb(),f.Zb(6,"ion-label",18),f.uc(7),f.Yb(),f.Yb(),f.Yb(),f.Zb(8,"ion-item-options",19),f.Zb(9,"button",20),f.hc("click",(function(n){f.qc(i);var t=e.$implicit;return f.jc(2).removeplaylistpravachanaudio(t)})),f.Xb(10,"ion-icon",21),f.Yb(),f.Zb(11,"button",20),f.hc("click",(function(n){f.qc(i);var t=e.$implicit;return f.jc(2).downloadplaylistpravachanaudio(t)})),f.Xb(12,"ion-icon",22),f.Yb(),f.Yb(),f.Yb(),f.Yb()}if(2&n){var t=e.$implicit;f.Mb(5),f.nc("src",t.image,f.rc),f.Mb(2),f.wc(" ",t.title,"")}}function C(n,e){if(1&n&&(f.Zb(0,"div"),f.tc(1,P,13,2,"ion-list",14),f.Yb()),2&n){var i=f.jc();f.Mb(1),f.mc("ngForOf",i.PravachanAudio)}}function Y(n,e){if(1&n){var i=f.ac();f.Zb(0,"ion-list"),f.Zb(1,"ion-item-sliding"),f.Zb(2,"ion-item",23),f.hc("click",(function(n){f.qc(i);var t=e.$implicit;return f.jc(2).PlayVideo(t.url,t.title)})),f.Zb(3,"ion-card"),f.Zb(4,"div",16),f.Xb(5,"img",17),f.Yb(),f.Zb(6,"ion-label",18),f.uc(7),f.Yb(),f.Yb(),f.Yb(),f.Zb(8,"ion-item-options",19),f.Zb(9,"button",20),f.hc("click",(function(n){f.qc(i);var t=e.$implicit;return f.jc(2).removeplaylistpravachanvideo(t)})),f.Xb(10,"ion-icon",21),f.Yb(),f.Zb(11,"button",20),f.hc("click",(function(n){f.qc(i);var t=e.$implicit;return f.jc(2).downloadplaylistpravachanvideo(t)})),f.Xb(12,"ion-icon",22),f.Yb(),f.Yb(),f.Yb(),f.Yb()}if(2&n){var t=e.$implicit;f.Mb(5),f.nc("src",t.image,f.rc),f.Mb(2),f.wc(" ",t.title,"")}}function Z(n,e){if(1&n&&(f.Zb(0,"div"),f.tc(1,Y,13,2,"ion-list",14),f.Yb()),2&n){var i=f.jc();f.Mb(1),f.mc("ngForOf",i.PravachanVideo)}}function D(n,e){if(1&n){var i=f.ac();f.Zb(0,"ion-button",28),f.hc("click",(function(n){return f.qc(i),f.jc(2).togglePlayer(!1)})),f.Xb(1,"ion-icon",32),f.Yb()}}function S(n,e){if(1&n){var i=f.ac();f.Zb(0,"ion-button",28),f.hc("click",(function(n){return f.qc(i),f.jc(2).togglePlayer(!0)})),f.Xb(1,"ion-icon",33),f.Yb()}}function x(n,e){if(1&n){var i=f.ac();f.Zb(0,"ion-footer"),f.Zb(1,"ion-toolbar",24),f.Zb(2,"ion-row"),f.Zb(3,"ion-col",25),f.uc(4),f.Yb(),f.Zb(5,"ion-col",4),f.Zb(6,"ion-range",26,27),f.hc("ngModelChange",(function(n){return f.qc(i),f.jc().progress=n}))("touchend",(function(n){return f.qc(i),f.jc().seek()}))("mouseup",(function(n){return f.qc(i),f.jc().seek()})),f.Yb(),f.Yb(),f.Zb(8,"ion-col",25),f.Zb(9,"ion-button",28),f.hc("click",(function(n){return f.qc(i),f.jc().prev()})),f.Xb(10,"ion-icon",29),f.Yb(),f.tc(11,D,2,0,"ion-button",30),f.tc(12,S,2,0,"ion-button",30),f.Zb(13,"ion-button",28),f.hc("click",(function(n){return f.qc(i),f.jc().next()})),f.Xb(14,"ion-icon",31),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Yb()}if(2&n){var t=f.jc();f.Mb(4),f.wc(" ",t.activeTrack.title," "),f.Mb(2),f.mc("ngModel",t.progress),f.Mb(5),f.mc("ngIf",!t.isPlaying),f.Mb(1),f.mc("ngIf",t.isPlaying)}}var M,_,O=[{path:"",component:(M=function(){function n(e,i,t,a,o,r,c,s,l){var u=this;_classCallCheck(this,n),this.authService=e,this.storageService=i,this.toastService=t,this.file=a,this.platform=o,this.transfer=r,this.alertController=c,this.fileOpener=s,this.loader=l,this.activeTrack=null,this.player=null,this.isPlaying=!1,this.duration=-1,this.display_position="00:00",this.display_duration="00:00",this.progress=0,this.segment="pravachan_cassette",this.storageService.getIMEI().then((function(n){console.log("IMEIBHAJAN => "+n),u.imei=n,u.getSadhnaSatsang(),u.getPravachanRam(),u.getPravachanAudio()}))}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"onCatChange",value:function(n){console.log(n)}},{key:"getSadhnaSatsang",value:function(){var n=this;this.loader.loadingPresent(),this.authService.GetDownloadList({imei_number:this.imei,type:"Pravachan_Cassettes"}).subscribe((function(e){console.log(e),n.loader.loadingDismiss(),n.SadnaSatsang=e}),(function(e){n.loader.loadingDismiss(),console.log("error")}))}},{key:"getPravachanRam",value:function(){var n=this;this.loader.loadingPresent(),this.authService.GetDownloadList({imei_number:this.imei,type:"Pravachan_Ramayanji"}).subscribe((function(e){console.log(e),n.loader.loadingDismiss(),n.PravachanRam=e}),(function(e){n.loader.loadingDismiss(),console.log("error")}))}},{key:"getPravachanAudio",value:function(){var n=this;this.loader.loadingPresent(),this.authService.GetDownloadList({imei_number:this.imei,type:"Pravachan_CD"}).subscribe((function(e){console.log(e),n.loader.loadingDismiss(),n.PravachanAudio=e}),(function(e){n.loader.loadingDismiss(),console.log("error")}))}},{key:"getPravachanVideo",value:function(){var n=this;this.loader.loadingPresent(),this.authService.GetDownloadList({imei_number:this.imei,type:"Pravachan_Video"}).subscribe((function(e){console.log(e),n.loader.loadingDismiss(),n.PravachanVideo=e}),(function(e){n.loader.loadingDismiss(),console.log("error")}))}},{key:"removeplaylistpravachanCassettes",value:function(n){var e=this;this.authService.DeleteDownloadList({id:n.id}).subscribe((function(n){console.log(n),e.getSadhnaSatsang()}),(function(n){console.log("error")}))}},{key:"removeplaylistpravachanRam",value:function(n){var e=this;this.authService.DeleteDownloadList({id:n.id}).subscribe((function(n){console.log(n),e.getPravachanRam()}),(function(n){console.log("error")}))}},{key:"removeplaylistpravachanaudio",value:function(n){var e=this;this.authService.DeleteDownloadList({id:n.id}).subscribe((function(n){console.log(n),e.getPravachanAudio()}),(function(n){console.log("error")}))}},{key:"removeplaylistpravachanvideo",value:function(n){var e=this;this.authService.DeleteDownloadList({id:n.id}).subscribe((function(n){console.log(n),e.player&&e.player.stop(),e.PravachanVideo()}),(function(n){console.log("error")}))}},{key:"downloadplaylistpravachanCassettes",value:function(n){return Object(c.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i,t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:n.title,message:"Download Audio",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(n){console.log("Confirm Cancel: blah")}},{text:"Download",handler:function(){var e;e=t.platform.is("ios")?t.file.documentsDirectory:t.file.externalRootDirectory+"/ShreeRamSharnam/";var i=t.transfer.create();console.log(n.url),t.loader.loadingPresent("Downloading....Please wait it will take time to download!"),i.download(n.url,e+n.title+".mp3").then((function(n){var e=n.toURL();console.log(e),t.loader.loadingDismiss(),t.toastService.presentToast("Download Completed...!")})),console.log("Confirm Okay")}}]});case 2:return i=e.sent,e.next=5,i.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"downloadplaylistpravachanRam",value:function(n){return Object(c.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i,t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:n.title,message:"Download Audio",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(n){console.log("Confirm Cancel: blah")}},{text:"Download",handler:function(){var e;e=t.platform.is("ios")?t.file.documentsDirectory:t.file.dataDirectory;var i=t.transfer.create();console.log(n.url),t.loader.loadingPresent("Downloading....Please wait it will take time to download!"),i.download(n.url,e+n.title+".mp3").then((function(n){var e=n.toURL();console.log(e),t.loader.loadingDismiss(),t.toastService.presentToast("Download Completed...!")})),console.log("Confirm Okay")}}]});case 2:return i=e.sent,e.next=5,i.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"downloadplaylistpravachanaudio",value:function(n){return Object(c.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i,t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:n.title,message:"Download Audio",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(n){console.log("Confirm Cancel: blah")}},{text:"Download",handler:function(){var e;e=t.platform.is("ios")?t.file.documentsDirectory:t.file.dataDirectory;var i=t.transfer.create();console.log(n.url),t.loader.loadingPresent("Downloading....Please wait it will take time to download!"),i.download(n.url,e+n.title+".mp3").then((function(n){var e=n.toURL();console.log(e),t.loader.loadingDismiss(),t.toastService.presentToast("Download Completed...!")})),console.log("Confirm Okay")}}]});case 2:return i=e.sent,e.next=5,i.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"downloadplaylistpravachanvideo",value:function(n){return Object(c.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i,t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:n.title,message:"Download Video",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(n){console.log("Confirm Cancel: blah")}},{text:"Download",handler:function(){var e;e=t.platform.is("ios")?t.file.documentsDirectory:t.file.dataDirectory;var i=t.transfer.create();console.log(n.url),t.loader.loadingPresent("Downloading....Please wait it will take time to download!"),i.download(n.url,e+n.title+".mp4").then((function(n){var e=n.toURL();console.log(e),t.loader.loadingDismiss(),t.toastService.presentToast("Download Completed...!")})),console.log("Confirm Okay")}}]});case 2:return i=e.sent,e.next=5,i.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"start",value:function(n){var e=this;this.player&&this.player.stop(),this.player=new h.Howl({src:[n.url],html5:!0,onplay:function(){e.isPlaying=!0,e.activeTrack=n,e.updateProgess()},onend:function(){}}),this.player.play()}},{key:"togglePlayer",value:function(n){this.isPlaying=!n,n?this.player.pause():this.player.play()}},{key:"next",value:function(){if("pravachan_cassette"===this.segment){var n=this.SadnaSatsang.indexOf(this.activeTrack);this.start(n!==this.SadnaSatsang.length-1?this.SadnaSatsang[n+1]:this.SadnaSatsang[0])}if("audio_ramaynji"===this.segment){var e=this.PravachanRam.indexOf(this.activeTrack);this.start(e!==this.PravachanRam.length-1?this.PravachanRam[e+1]:this.PravachanRam[0])}if("audio_cd"===this.segment){var i=this.PravachanAudio.indexOf(this.activeTrack);this.start(i!==this.PravachanAudio.length-1?this.PravachanAudio[i+1]:this.PravachanAudio[0])}}},{key:"prev",value:function(){if("pravachan_cassette"===this.segment){var n=this.SadnaSatsang.indexOf(this.activeTrack);this.start(n>0?this.SadnaSatsang[n-1]:this.SadnaSatsang[this.SadnaSatsang.length-1])}if("audio_ramaynji"===this.segment){var e=this.PravachanRam.indexOf(this.activeTrack);this.start(e>0?this.PravachanRam[e-1]:this.PravachanRam[this.PravachanRam.length-1])}if("audio_cd"===this.segment){var i=this.PravachanAudio.indexOf(this.activeTrack);this.start(i>0?this.PravachanAudio[i-1]:this.PravachanAudio[this.PravachanAudio.length-1])}}},{key:"seek",value:function(){var n=+this.range.value,e=this.player.duration();this.player.seek(e*(n/100))}},{key:"updateProgess",value:function(){var n=this,e=this.player.seek();this.progress=e/this.player.duration()*100||0,setTimeout((function(){n.updateProgess()}),1e3)}},{key:"PlayVideo",value:function(n,e){var i,t=this;console.log(n),i=this.platform.is("ios")?this.file.documentsDirectory:this.file.dataDirectory;var a=this.transfer.create();this.loader.loadingPresent("Downloading....Please wait it will take time to download!"),a.download(n,i+e+".flv").then((function(n){var a=n.toURL();console.log(a),t.loader.loadingDismiss(),t.fileOpener.showOpenWithDialog(i+e+".flv","video/flv").then((function(){return console.log("File is opened")})).catch((function(n){return console.log("Error opening file",n)}))}))}}]),n}(),M.\u0275fac=function(n){return new(n||M)(f.Wb(s.a),f.Wb(l.a),f.Wb(u.a),f.Wb(d.a),f.Wb(o.V),f.Wb(b.a),f.Wb(o.b),f.Wb(g.a),f.Wb(v.a))},M.\u0275cmp=f.Qb({type:M,selectors:[["app-pravachan-downloadlist"]],viewQuery:function(n,e){var i;1&n&&f.yc(m,!0),2&n&&f.pc(i=f.ic())&&(e.range=i.first)},decls:30,vars:7,consts:[["color","primary"],["slot","start"],["autoHide","false"],["slot","end","src","assets/images/toolbar.png",1,"img1"],["size","12"],["mode","md","scrollable","",3,"ngModel","ngModelChange","ionChange"],["value","pravachan_cassette"],[1,"ppp"],["value","audio_ramaynji"],["value","audio_cd"],["value","video"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf"],[4,"ngFor","ngForOf"],["lines","none"],[1,"div_20"],[3,"src"],[1,"label"],["side","end"],["ion-button","",3,"click"],["slot","icon-only","name","trash",1,"icon-inner"],["slot","icon-only","name","download",1,"icon-inner"],["lines","none",3,"click"],["color","dark"],["size","12",1,"ion-text-center"],["max","100","color","primary",3,"ngModel","ngModelChange","touchend","mouseup"],["range",""],["fill","clear","color","primary",3,"click"],["slot","icon-only","name","skip-backward"],["fill","clear","color","primary",3,"click",4,"ngIf"],["slot","icon-only","name","skip-forward"],["slot","icon-only","name","play"],["slot","icon-only","name","pause"]],template:function(n,e){1&n&&(f.Zb(0,"ion-header"),f.Zb(1,"ion-toolbar",0),f.Zb(2,"ion-buttons",1),f.Xb(3,"ion-menu-button",2),f.Yb(),f.Zb(4,"ion-label"),f.uc(5," Pravachan Downloadlist "),f.Yb(),f.Xb(6,"img",3),f.Yb(),f.Yb(),f.Zb(7,"ion-content"),f.Zb(8,"ion-grid"),f.Zb(9,"ion-row"),f.Zb(10,"ion-col",4),f.Zb(11,"ion-segment",5),f.hc("ngModelChange",(function(n){return e.segment=n}))("ionChange",(function(n){return e.onCatChange(n)})),f.Zb(12,"ion-segment-button",6),f.Zb(13,"ion-label",7),f.uc(14," Audio Cassettes "),f.Yb(),f.Yb(),f.Zb(15,"ion-segment-button",8),f.Zb(16,"ion-label",7),f.uc(17," Audio Ramayanji "),f.Yb(),f.Yb(),f.Zb(18,"ion-segment-button",9),f.Zb(19,"ion-label",7),f.uc(20,"Audio Cd's "),f.Yb(),f.Yb(),f.Zb(21,"ion-segment-button",10),f.Zb(22,"ion-label",7),f.uc(23,"Video "),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Zb(24,"div",11),f.tc(25,y,2,1,"div",12),f.tc(26,k,2,1,"div",12),f.tc(27,C,2,1,"div",12),f.tc(28,Z,2,1,"div",12),f.Yb(),f.Yb(),f.tc(29,x,15,4,"ion-footer",13)),2&n&&(f.Mb(11),f.mc("ngModel",e.segment),f.Mb(13),f.mc("ngSwitch",e.segment),f.Mb(1),f.mc("ngSwitchCase","pravachan_cassette"),f.Mb(1),f.mc("ngSwitchCase","audio_ramaynji"),f.Mb(1),f.mc("ngSwitchCase","audio_cd"),f.Mb(1),f.mc("ngSwitchCase","video"),f.Mb(1),f.mc("ngIf",e.activeTrack))},directives:[o.q,o.N,o.f,o.z,o.w,o.l,o.p,o.D,o.k,o.E,o.Y,a.c,a.d,o.F,t.j,t.k,t.i,t.h,o.x,o.v,o.t,o.g,o.u,o.r,o.o,o.B,o.e],styles:[".div_20[_ngcontent-%COMP%]{width:20%;display:inline-block;margin:0;padding:5px;float:left}.label[_ngcontent-%COMP%]{height:50px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;word-break:break-all;white-space:normal}.icon-inner[_ngcontent-%COMP%]{font-size:25px;display:block}.icon-inner[_ngcontent-%COMP%], .ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.ion-icon[_ngcontent-%COMP%]{font-size:40px}.rangePlaytime[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.rangePlaytime[_ngcontent-%COMP%]   .startTime[_ngcontent-%COMP%]{padding-left:9px}.rangePlaytime[_ngcontent-%COMP%]   .endTime[_ngcontent-%COMP%]{padding-right:15px}.img1[_ngcontent-%COMP%]{height:30px;width:100px;max-width:100%;border:0}.ppp[_ngcontent-%COMP%]{font-size:10px;text-align:center}"]}),M)}],j=((_=function n(){_classCallCheck(this,n)}).\u0275mod=f.Ub({type:_}),_.\u0275inj=f.Tb({factory:function(n){return new(n||_)},imports:[[r.i.forChild(O)],r.i]}),_);i.d(e,"PravachanDownloadlistPageModule",(function(){return A}));var R,A=((R=function n(){_classCallCheck(this,n)}).\u0275mod=f.Ub({type:R}),R.\u0275inj=f.Tb({factory:function(n){return new(n||R)},imports:[[t.b,a.a,o.O,j]]}),R)}}]);